<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ËΩØ‰ª∂ÂÆâË£ÖÂ§ßÂ∏à - ÈªëÂÆ¢ÊåëÊàòËµõ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Tahoma', 'Arial', sans-serif;
            user-select: none;
        }
        
        body {
            background: linear-gradient(to bottom, #3a6ea5, #0a2c5a);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #333;
            overflow: hidden;
            padding: 20px;
        }
        
        .container {
            width: 900px;
            height: 600px;
            background: #d4d0c8;
            border: 2px solid #0a0a0a;
            box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3), inset 1px 1px 0px #ffffff;
            position: relative;
            overflow: hidden;
        }
        
        .desktop {
            width: 100%;
            height: 100%;
            background: #008080;
            position: relative;
            transition: background 0.5s;
        }
        
        .desktop.red-screen {
            background: #8b0000;
            background-image: linear-gradient(45deg, #8b0000 25%, #ff0000 25%, #ff0000 50%, #8b0000 50%, #8b0000 75%, #ff0000 75%, #ff0000 100%);
            background-size: 56.57px 56.57px;
        }
        
        .desktop.shutdown {
            background: #000;
            color: #fff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .taskbar {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 30px;
            background: linear-gradient(to bottom, #0a246a, #a6caf0);
            border-top: 1px solid #ffffff;
            display: flex;
            align-items: center;
            padding: 0 10px;
            z-index: 100;
        }
        
        .start-btn {
            background: linear-gradient(to bottom, #33cc33, #008800);
            color: white;
            border: 1px solid #008800;
            border-radius: 3px;
            padding: 2px 15px 2px 30px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            position: relative;
            box-shadow: inset 1px 1px 0px #66ff66;
            text-shadow: 1px 1px 1px #004400;
        }
        
        .start-btn::before {
            content: "üü¢";
            position: absolute;
            left: 8px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .window {
            position: absolute;
            background: #d4d0c8;
            border: 2px solid;
            border-top-color: #ffffff;
            border-left-color: #ffffff;
            border-right-color: #808080;
            border-bottom-color: #808080;
            min-width: 400px;
            display: none;
            box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.3);
            z-index: 10;
        }
        
        .window-header {
            background: linear-gradient(to right, #0a246a, #3a6ea5);
            padding: 5px 8px;
            border-bottom: 1px solid #ffffff;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
            color: white;
            font-weight: bold;
            font-size: 14px;
        }
        
        .window-title {
            font-size: 14px;
            font-weight: bold;
        }
        
        .close-btn {
            background: #d4d0c8;
            color: #000;
            border: 1px solid #808080;
            width: 20px;
            height: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            box-shadow: inset -1px -1px 0px #000000;
        }
        
        .window-content {
            padding: 15px;
            max-height: 300px;
            overflow-y: auto;
            background: #ffffff;
            border: 1px solid #808080;
            margin: 2px;
        }
        
        .mail-icon {
            position: absolute;
            top: 50px;
            left: 50px;
            width: 48px;
            height: 64px;
            background: #ffffff;
            border: 1px solid #808080;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s;
            box-shadow: inset -1px -1px 0px #000000;
            text-align: center;
            padding: 5px;
            z-index: 5;
        }
        
        .mail-icon:hover {
            transform: scale(1.05);
            background: #e0e0e0;
        }
        
        .mail-icon::before {
            content: "‚úâ";
            font-size: 24px;
            color: #3a6ea5;
            margin-bottom: 5px;
        }
        
        .notification {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ffffcc;
            border: 2px solid #ffcc00;
            padding: 10px;
            font-size: 14px;
            display: none;
            box-shadow: 3px 3px 5px rgba(0, 0, 0, 0.2);
            z-index: 5;
            width: 250px;
        }
        
        .btn {
            background: linear-gradient(to bottom, #d4d0c8, #808080);
            color: #000;
            border: 1px solid #808080;
            padding: 5px 15px;
            margin: 5px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: bold;
            box-shadow: inset -1px -1px 0px #000000;
            min-width: 80px;
        }
        
        .btn:hover {
            background: linear-gradient(to bottom, #e0e0e0, #a0a0a0);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .checkbox-container {
            margin: 10px 0;
            padding: 5px;
            display: flex;
            align-items: center;
        }
        
        .checkbox-label {
            display: flex;
            align-items: center;
            cursor: pointer;
            user-select: none;
            font-size: 14px;
        }
        
        .checkbox-label input {
            margin-right: 10px;
        }
        
        .hidden-checkbox {
            display: none;
        }
        
        .fake-checkbox {
            width: 16px;
            height: 16px;
            background: #ffffff;
            border: 1px solid #808080;
            display: inline-block;
            margin-right: 8px;
            position: relative;
            box-shadow: inset -1px -1px 0px #000000;
        }
        
        .fake-checkbox::after {
            content: "‚úì";
            position: absolute;
            top: -2px;
            left: 1px;
            color: #000;
            font-size: 14px;
            opacity: 0;
        }
        
        .hidden-checkbox:checked + .fake-checkbox::after {
            opacity: 1;
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #d4d0c8;
            border: 1px solid #808080;
            margin: 15px 0;
            position: relative;
            box-shadow: inset -1px -1px 0px #000000;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(to bottom, #33cc33, #008800);
            width: 0%;
            transition: width 0.3s;
        }
        
        .coins-display {
            position: absolute;
            top: 10px;
            left: 10px;
            background: linear-gradient(to bottom, #ffcc00, #cc9900);
            border: 1px solid #996600;
            padding: 5px 15px;
            font-size: 14px;
            font-weight: bold;
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            border-radius: 3px;
            z-index: 5;
        }
        
        .history-btn {
            position: absolute;
            bottom: 40px;
            right: 10px;
            background: linear-gradient(to bottom, #d4d0c8, #808080);
            color: #000;
            border: 1px solid #808080;
            padding: 5px 15px;
            cursor: pointer;
            display: none;
            font-weight: bold;
            box-shadow: inset -1px -1px 0px #000000;
            z-index: 5;
        }
        
        .faded-button {
            opacity: 0.5;
        }
        
        .faded-button:hover {
            opacity: 1;
        }
        
        .small-text {
            font-size: 10px;
            color: #666;
            margin-top: 5px;
            padding-left: 25px;
            line-height: 1.3;
        }
        
        .time-display {
            position: absolute;
            right: 10px;
            bottom: 5px;
            color: white;
            font-size: 12px;
            text-shadow: 1px 1px 1px #000;
        }
        
        .desktop-icon {
            position: absolute;
            width: 64px;
            text-align: center;
            font-size: 12px;
            color: white;
            text-shadow: 1px 1px 1px #000;
            cursor: pointer;
            z-index: 5;
        }
        
        .desktop-icon img {
            width: 48px;
            height: 48px;
            display: block;
            margin: 0 auto 5px;
        }
        
        .title-bar {
            background: linear-gradient(to right, #0a246a, #3a6ea5);
            color: white;
            padding: 3px 10px;
            font-weight: bold;
            font-size: 14px;
            border-bottom: 1px solid #ffffff;
        }
        
        .agreement-text {
            height: 150px;
            overflow-y: scroll;
            border: 1px solid #808080;
            padding: 10px;
            margin: 10px 0;
            background: #fff;
            font-size: 12px;
            line-height: 1.4;
        }
        
        .popup-ad {
            position: absolute;
            width: 300px;
            background: white;
            border: 2px solid #ff0000;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.5);
            display: none;
            z-index: 100;
        }
        
        .popup-header {
            background: linear-gradient(to right, #ff0000, #cc0000);
            padding: 5px;
            color: white;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
        }
        
        .popup-content {
            padding: 15px;
            text-align: center;
        }
        
        .popup-content img {
            max-width: 100%;
            margin: 10px 0;
        }
        
        .ransom-note {
            background: #000;
            color: #0f0;
            font-family: 'Courier New', monospace;
            padding: 20px;
            border: 2px solid #f00;
        }
        
        .blinking {
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            50% { opacity: 0.5; }
        }
        
        .task-icon {
            height: 24px;
            margin-right: 5px;
            display: flex;
            align-items: center;
            padding: 0 5px;
            border: 1px solid transparent;
            border-radius: 3px;
        }
        
        .task-icon.active {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.5);
        }
        
        .taskbar-icons {
            display: flex;
            margin-left: 20px;
        }
        
        .desktop-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: calc(100% - 30px);
            background-image: url('https://i.pinimg.com/originals/8f/45/0b/8f450b4f4d1d6061f8f2a4f8a8f4d4d4.jpg');
            background-size: cover;
            opacity: 0.1;
            z-index: 0;
        }
        
        .virus-icon {
            position: absolute;
            animation: float 3s infinite ease-in-out;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .easter-egg {
            position: absolute;
            width: 20px;
            height: 20px;
            background: transparent;
            z-index: 200;
        }
        
        .virus-notice {
            position: absolute;
            top: 40px;
            right: 10px;
            background: #ffdddd;
            border: 2px solid #ff0000;
            padding: 10px;
            font-size: 12px;
            display: none;
            z-index: 150;
            width: 200px;
        }
        
        .preview-image {
            width: 100%;
            height: 150px;
            background: #eee;
            border: 1px solid #ccc;
            margin: 10px 0;
            position: relative;
            cursor: move;
            overflow: hidden;
        }
        
        .preview-image img {
            position: absolute;
            max-width: 100%;
            max-height: 100%;
            top: 0;
            left: 0;
        }
        
        .required-option {
            border-left: 3px solid #0066cc;
            padding-left: 5px;
        }
        
        .virus-warning {
            color: #cc0000;
            font-weight: bold;
        }
        
        .system-icon {
            position: absolute;
            width: 64px;
            text-align: center;
            font-size: 12px;
            color: white;
            text-shadow: 1px 1px 1px #000;
            cursor: pointer;
            z-index: 5;
        }
        
        .system-icon i {
            display: block;
            font-size: 36px;
            margin-bottom: 5px;
        }
        
        .mail-nav {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .mail-list {
            max-height: 200px;
            overflow-y: auto;
        }
        
        .mail-item {
            padding: 8px;
            border-bottom: 1px solid #ccc;
            cursor: pointer;
        }
        
        .mail-item:hover {
            background-color: #f0f0f0;
        }
        
        .mail-item.unread {
            font-weight: bold;
        }
        
        .mail-item.selected {
            background-color: #e0e0ff;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }
        
        .page-btn {
            padding: 3px 8px;
            margin: 0 2px;
            cursor: pointer;
        }
        
        .page-btn.active {
            background: #0a246a;
            color: white;
        }
        
        .mail-actions {
            display: flex;
            justify-content: flex-end;
            gap: 5px;
            margin-top: 5px;
        }
        
        .action-btn {
            padding: 2px 8px;
            font-size: 12px;
        }
        
        .file-list {
            list-style: none;
            margin: 10px 0;
            padding: 0;
        }
        
        .file-list li {
            padding: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        
        .file-list li i {
            margin-right: 8px;
            font-size: 16px;
        }
        
        .file-list li:hover {
            background-color: #e0e0e0;
        }
        
        .drive-info {
            background: #f0f0f0;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ccc;
        }
        
        .shutdown-screen {
            background: #000;
            color: #fff;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            z-index: 1000;
            display: none;
        }
        
        .shutdown-screen h1 {
            font-size: 48px;
            margin-bottom: 30px;
            color: #fff;
            text-shadow: 0 0 10px #00f, 0 0 20px #00f;
        }
        
        .shutdown-screen p {
            font-size: 24px;
            margin: 10px 0;
            max-width: 80%;
        }
        
        .ending-screen {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            z-index: 1000;
            color: white;
            display: none;
        }
        
        .ending-content {
            background: rgba(0, 0, 0, 0.7);
            padding: 40px;
            border-radius: 10px;
            max-width: 80%;
        }
        
        .ending-screen h1 {
            font-size: 48px;
            margin-bottom: 30px;
            color: #ffcc00;
            text-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
        }
        
        .ending-screen p {
            font-size: 24px;
            margin: 20px 0;
            line-height: 1.5;
        }
        
        .ending-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
        }
        
        .stat-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            min-width: 150px;
        }
        
        .stat-value {
            font-size: 36px;
            font-weight: bold;
            color: #ffcc00;
        }
        
        .stat-label {
            font-size: 18px;
            margin-top: 10px;
        }
        
        .start-menu-item {
            padding: 8px 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            border-radius: 3px;
        }
        
        .start-menu-item:hover {
            background: #0a246a;
            color: white;
        }
        
        .start-menu-item i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        
        .drive-icon {
            font-size: 24px;
            margin-right: 10px;
            color: #3a6ea5;
        }
        
        .disk-usage {
            height: 10px;
            background: #d4d0c8;
            border: 1px solid #808080;
            margin: 5px 0;
            position: relative;
        }
        
        .disk-used {
            height: 100%;
            background: #3a6ea5;
        }
        
        .context-menu {
            position: absolute;
            background: #d4d0c8;
            border: 1px solid #808080;
            box-shadow: 3px 3px 5px rgba(0,0,0,0.3);
            z-index: 200;
            display: none;
            min-width: 150px;
        }
        
        .context-menu-item {
            padding: 8px 15px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
        }
        
        .context-menu-item:hover {
            background: #0a246a;
            color: white;
        }
        
        .context-menu-item i {
            margin-right: 8px;
            width: 20px;
            text-align: center;
        }
        
        .minesweeper {
            width: 300px;
            background: #d4d0c8;
            border: 2px solid #808080;
            padding: 10px;
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
        }
        
        .minesweeper-header {
            background: #0a246a;
            color: white;
            padding: 5px;
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .minesweeper-grid {
            display: grid;
            grid-template-columns: repeat(7, 24px);
            grid-template-rows: repeat(7, 24px);
            gap: 1px;
            background: #b0b0b0;
            padding: 1px;
        }
        
        .cell {
            width: 24px;
            height: 24px;
            background: #c0c0c0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            cursor: pointer;
            border: 2px outset #fff;
            font-size: 14px;
        }
        
        .cell.revealed {
            border: 1px solid #808080;
            background: #c0c0c0;
        }
        
        .cell.flagged::before {
            content: "üö©";
        }
        
        .cell.mine::before {
            content: "üí£";
        }
        
        .cell.star::before {
            content: "‚≠ê";
        }
        
        .shortcut-icon {
            position: absolute;
            width: 64px;
            text-align: center;
            font-size: 12px;
            color: white;
            text-shadow: 1px 1px 1px #000;
            cursor: pointer;
            z-index: 5;
        }
        
        .shortcut-icon i {
            display: block;
            font-size: 36px;
            margin-bottom: 5px;
        }
        
        .firewall-status {
            padding: 5px;
            margin-top: 10px;
            font-weight: bold;
            text-align: center;
        }
        
        .firewall-on {
            background: #ccffcc;
            border: 1px solid #008000;
            color: #008000;
        }
        
        .firewall-off {
            background: #ffcccc;
            border: 1px solid #800000;
            color: #800000;
        }
        
        /* ÂÖ≥Êú∫Âä®Áîª */
        .shutdown-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0);
            z-index: 999;
            display: none;
        }
        
        /* ÂõûÊî∂Á´ôÈ°πÁõÆ */
        .trash-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px;
            border-bottom: 1px solid #ccc;
        }
        
        .trash-item-name {
            flex: 1;
        }
        
        .trash-item-date {
            font-size: 10px;
            color: #666;
            margin-right: 10px;
        }
        
        /* Á£ÅÁõòÂàóË°® */
        .disk-list {
            list-style: none;
            margin: 10px 0;
        }
        
        .disk-list li {
            padding: 8px;
            border-bottom: 1px solid #eee;
        }
        
        .disk-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .disk-space {
            font-size: 12px;
            color: #666;
        }
        
        .disk-usage-bar {
            height: 8px;
            background: #d4d0c8;
            border: 1px solid #808080;
            margin-top: 5px;
            position: relative;
        }
        
        .disk-used-bar {
            height: 100%;
            background: #3a6ea5;
        }
        
        /* ‰ªªÂä°ÁÆ°ÁêÜÂô®Ê†∑Âºè */
        .task-manager-list {
            list-style: none;
            margin: 10px 0;
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #ccc;
            padding: 5px;
        }
        
        .task-manager-item {
            display: flex;
            justify-content: space-between;
            padding: 5px;
            border-bottom: 1px solid #eee;
        }
        
        .task-manager-item:hover {
            background-color: #f0f0f0;
        }
        
        .task-manager-item-name {
            flex: 1;
        }
        
        /* ÂëΩ‰ª§Ë°åÊ†∑Âºè */
        .cmd-window {
            background: #000;
            color: #0f0;
            font-family: 'Courier New', monospace;
            padding: 10px;
            height: 300px;
            overflow-y: auto;
            font-size: 14px;
        }
        
        .cmd-input {
            display: flex;
            align-items: center;
            margin-top: 5px;
        }
        
        .cmd-prompt {
            color: #0f0;
            margin-right: 5px;
        }
        
        .cmd-input-field {
            background: transparent;
            border: none;
            color: #0f0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            width: calc(100% - 60px);
            outline: none;
        }
        
        /* Êñá‰ª∂ËµÑÊ∫êÁÆ°ÁêÜÂô® */
        .explorer-toolbar {
            display: flex;
            gap: 5px;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px solid #ccc;
        }
        
        .explorer-toolbar button {
            padding: 3px 8px;
            font-size: 12px;
        }
        
        .explorer-breadcrumb {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 3px;
            background: #f0f0f0;
            border: 1px solid #ccc;
        }
        
        .breadcrumb-item {
            cursor: pointer;
            padding: 2px 5px;
        }
        
        .breadcrumb-item:hover {
            text-decoration: underline;
        }
        
        .breadcrumb-separator {
            margin: 0 5px;
        }
        
        .explorer-view {
            display: flex;
        }
        
        .explorer-folders {
            width: 30%;
            border-right: 1px solid #ccc;
            padding-right: 10px;
            overflow-y: auto;
            max-height: 250px;
        }
        
        .explorer-files {
            width: 70%;
            padding-left: 10px;
            overflow-y: auto;
            max-height: 250px;
        }
        
        .explorer-item {
            padding: 5px;
            cursor: pointer;
        }
        
        .explorer-item:hover {
            background-color: #e0e0ff;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="desktop" id="desktop">
            <div class="desktop-bg"></div>
            <div class="title-bar">Windows XP Professional</div>
            
            <!-- ÈÇÆ‰ª∂ÂõæÊ†á‰Ωú‰∏∫Ê°åÈù¢Â∫îÁî® -->
            <div class="system-icon" id="mailIcon" style="top: 50px; left: 50px;">
                <i class="fas fa-envelope"></i>
                <div>ÈÇÆ‰ª∂</div>
            </div>
            
            <div class="system-icon" id="myComputer" style="top: 150px; left: 50px;">
                <i class="fas fa-desktop"></i>
                <div>ÊàëÁöÑÁîµËÑë</div>
            </div>
            
            <div class="system-icon" id="recycleBin" style="top: 150px; left: 150px;">
                <i class="fas fa-trash-alt"></i>
                <div>ÂõûÊî∂Á´ô</div>
            </div>
            
            <div class="coins-display" id="coinsDisplay">
                ÈáëÂ∏Å: <span id="coinsCount">50</span>
            </div>
            
            <div class="notification" id="notification">
                <div>‰Ω†ÊúâÊñ∞ÈÇÆ‰ª∂ÔºÅ</div>
                <div>Âèë‰ª∂‰∫∫: blackhat_challenger@hackers.org</div>
            </div>
            
            <div class="virus-notice" id="virusNotice">
                <div style="color:red;font-weight:bold;">Ë≠¶Âëä!</div>
                <div>Ê£ÄÊµãÂà∞Á≥ªÁªü‰∏≠ÊúâÂûÉÂúæËΩØ‰ª∂</div>
                <div>Êï∞Èáè: <span id="virusCount">0</span></div>
            </div>
            
            <button class="history-btn" id="historyBtn">‚Ü© ÂõûÂà∞‰∏ä‰∏ÄÊ¨°</button>
            
            <div class="taskbar">
                <button class="start-btn" id="startBtn">ÂºÄÂßã</button>
                <div class="taskbar-icons">
                    <div class="task-icon" id="mailTask"><i class="fas fa-envelope"></i></div>
                    <div class="task-icon" id="installTask"><i class="fas fa-download"></i></div>
                </div>
                <div class="time-display" id="timeDisplay">15:30</div>
            </div>
            
            <!-- ÂΩ©ËõãÂå∫Âüü -->
            <div class="easter-egg" style="top: 200px; left: 300px;"></div>
            <div class="easter-egg" style="top: 400px; left: 700px;"></div>
        </div>
        
        <!-- ÂÖ≥Êú∫Âä®ÁîªÈÅÆÁΩ© -->
        <div class="shutdown-overlay" id="shutdownOverlay"></div>
        
        <!-- Âè≥ÈîÆËèúÂçï -->
        <div class="context-menu" id="contextMenu">
            <div class="context-menu-item" id="newFolderItem"><i class="fas fa-folder-plus"></i>Êñ∞Âª∫Êñá‰ª∂Â§π</div>
            <div class="context-menu-item" id="shortcutItem"><i class="fas fa-link"></i>ÂàõÂª∫Âø´Êç∑ÊñπÂºè</div>
            <div class="context-menu-item" id="refreshItem"><i class="fas fa-sync-alt"></i>Âà∑Êñ∞</div>
            <div class="context-menu-item" id="propertiesItem"><i class="fas fa-cog"></i>Â±ûÊÄß</div>
        </div>
        
        <!-- ÂºÄÂßãËèúÂçï -->
        <div class="window" id="startMenu" style="bottom: 35px; left: 10px; width: 300px; height: 400px; display: none;">
            <div class="window-header">
                <div class="window-title">ÂºÄÂßãËèúÂçï</div>
                <div class="close-btn" id="closeStartMenu">√ó</div>
            </div>
            <div class="window-content">
                <div style="background: #0a246a; color: white; padding: 5px; margin-bottom: 10px;">
                    ÈªëÂ∏ΩÊåëÊàòËµõ
                </div>
                <div class="start-menu-item" id="profileItem">
                    <i class="fas fa-user"></i> Áé©ÂÆ∂Ê°£Ê°à
                </div>
                <div class="start-menu-item" id="mailClientItem">
                    <i class="fas fa-envelope"></i> ÈÇÆ‰ª∂ÂÆ¢Êà∑Á´Ø
                </div>
                <div class="start-menu-item" id="gamesItem">
                    <i class="fas fa-gamepad"></i> Â∞èÊ∏∏Êàè
                </div>
                <div class="start-menu-item" id="controlPanelItem">
                    <i class="fas fa-cog"></i> ÊéßÂà∂Èù¢Êùø
                </div>
                <div class="start-menu-item" id="taskManagerItem">
                    <i class="fas fa-tasks"></i> ‰ªªÂä°ÁÆ°ÁêÜÂô®
                </div>
                <div class="start-menu-item" id="cmdItem">
                    <i class="fas fa-terminal"></i> ÂëΩ‰ª§ÊèêÁ§∫Á¨¶
                </div>
                <div style="margin-top: 20px; border-top: 1px solid #ccc; padding-top: 10px;">
                    <div class="start-menu-item" id="shutdownItem">
                        <i class="fas fa-power-off"></i> ÂÖ≥Èó≠ËÆ°ÁÆóÊú∫
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ÈÇÆ‰ª∂Á™óÂè£ -->
        <div class="window" id="mailWindow" style="top: 100px; left: 100px; width: 600px;">
            <div class="window-header">
                <div class="window-title">Êî∂‰ª∂ÁÆ± - ÈªëÂ∏ΩÊåëÊàòËµõ</div>
                <div class="close-btn" id="closeMail">√ó</div>
            </div>
            <div class="window-content">
                <div class="mail-nav">
                    <div>
                        <button class="btn" id="inboxBtn">Êî∂‰ª∂ÁÆ±</button>
                        <button class="btn" id="sentBtn">Â∑≤ÂèëÈÄÅ</button>
                    </div>
                    <div>
                        <button class="btn" id="newMailBtn">Êñ∞Âª∫ÈÇÆ‰ª∂</button>
                        <button class="btn" id="deleteMailBtn">Âà†Èô§ÈÇÆ‰ª∂</button>
                    </div>
                </div>
                
                <div class="mail-list" id="mailList">
                    <!-- ÈÇÆ‰ª∂ÂàóË°®Â∞ÜÈÄöËøáJSÂä®ÊÄÅÁîüÊàê -->
                </div>
                
                <div class="pagination">
                    <button class="page-btn" id="prevPageBtn">‰∏ä‰∏ÄÈ°µ</button>
                    <button class="page-btn active" id="page1Btn">1</button>
                    <button class="page-btn" id="page2Btn">2</button>
                    <button class="page-btn" id="nextPageBtn">‰∏ã‰∏ÄÈ°µ</button>
                </div>
            </div>
        </div>
        
        <!-- ÈÇÆ‰ª∂ÈòÖËØªÁ™óÂè£ -->
        <div class="window" id="mailViewWindow" style="top: 150px; left: 200px; width: 500px; display: none;">
            <div class="window-header">
                <div class="window-title">ÈòÖËØªÈÇÆ‰ª∂</div>
                <div class="close-btn" id="closeMailView">√ó</div>
            </div>
            <div class="window-content" id="mailViewContent">
                <!-- ÈÇÆ‰ª∂ÂÜÖÂÆπÂ∞ÜÈÄöËøáJSÂä®ÊÄÅÁîüÊàê -->
            </div>
        </div>
        
        <!-- ÂÆâË£ÖÁ®ãÂ∫èÁ™óÂè£ -->
        <div class="window" id="installWindow" style="top: 150px; left: 200px; width: 500px;">
            <div class="window-header">
                <div class="window-title">ËΩØ‰ª∂ÂÆâË£ÖÂêëÂØº</div>
                <div class="close-btn" id="closeInstall">√ó</div>
            </div>
            <div class="window-content" id="installContent">
                <!-- ÂÆâË£ÖÊ≠•È™§ÂÜÖÂÆπÂ∞ÜÈÄöËøáJSÂä®ÊÄÅÁîüÊàê -->
            </div>
        </div>
        
        <!-- ÁªìÊûúÁ™óÂè£ -->
        <div class="window" id="resultWindow" style="top: 200px; left: 250px; width: 400px;">
            <div class="window-header">
                <div class="window-title">ÂÆâË£ÖÁªìÊûú</div>
                <div class="close-btn" id="closeResult">√ó</div>
            </div>
            <div class="window-content" id="resultContent">
                <!-- ÁªìÊûúÂÜÖÂÆπÂ∞ÜÈÄöËøáJSÂä®ÊÄÅÁîüÊàê -->
            </div>
        </div>
        
        <!-- ÂπøÂëäÂºπÁ™ó -->
        <div class="popup-ad" id="popupAd" style="top: 50px; left: 400px;">
            <div class="popup-header">
                <div>ÁâπÂà´‰ºòÊÉ†!</div>
                <div class="close-btn" id="closeAd">√ó</div>
            </div>
            <div class="popup-content">
                <h3>ÊÇ®ÁöÑÁîµËÑëËøêË°åÁºìÊÖ¢?</h3>
                <p>Á´ãÂç≥‰∏ãËΩΩSuperCleaner‰ºòÂåñÊÇ®ÁöÑÁ≥ªÁªü!</p>
                <div style="background:#eee;padding:10px;margin:10px 0;">
                    <img src="https://static.thenounproject.com/png/3628266-200.png" alt="ÂπøÂëä" style="width:100px;height:100px;">
                </div>
                <button class="btn" id="downloadAdBtn">ÂÖçË¥π‰∏ãËΩΩ</button>
            </div>
        </div>
        
        <!-- ÂãíÁ¥¢Á™óÂè£ -->
        <div class="popup-ad" id="ransomWindow" style="top: 150px; left: 300px; width: 350px; display: none;">
            <div class="popup-header">
                <div>Ë≠¶Âëä!</div>
                <div class="close-btn" id="closeRansom">√ó</div>
            </div>
            <div class="popup-content">
                <div class="ransom-note">
                    <h3 class="blinking">!!! Ë≠¶Âëä !!!</h3>
                    <p>ÊÇ®ÁöÑÊñá‰ª∂Â∑≤Ë¢´Âä†ÂØÜ!</p>
                    <p>Ë¶ÅËß£ÂØÜÊñá‰ª∂ÔºåËØ∑ÊîØ‰ªò10ÈáëÂ∏Å</p>
                    <p>ÊÇ®Êúâ <span id="countdown">60</span> ÁßíÊó∂Èó¥</p>
                    <p>Âê¶ÂàôÊâÄÊúâÊñá‰ª∂Â∞ÜË¢´Ê∞∏‰πÖÂà†Èô§</p>
                    <div style="margin-top: 15px;">
                        <button class="btn" id="payRansomBtn">ÊîØ‰ªòÈáëÂ∏Å</button>
                        <button class="btn" id="ignoreRansomBtn">ÂøΩÁï•</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ÊàëÁöÑÁîµËÑëÁ™óÂè£ -->
        <div class="window" id="myComputerWindow" style="top: 100px; left: 200px; width: 500px; display: none;">
            <div class="window-header">
                <div class="window-title">ÊàëÁöÑÁîµËÑë</div>
                <div class="close-btn" id="closeMyComputer">√ó</div>
            </div>
            <div class="window-content">
                <div class="explorer-toolbar">
                    <button class="btn" id="backBtn"><i class="fas fa-arrow-left"></i></button>
                    <button class="btn" id="forwardBtn"><i class="fas fa-arrow-right"></i></button>
                    <button class="btn" id="upBtn"><i class="fas fa-arrow-up"></i></button>
                </div>
                
                <div class="explorer-breadcrumb" id="breadcrumb">
                    <div class="breadcrumb-item" data-path="root">ÊàëÁöÑÁîµËÑë</div>
                </div>
                
                <div class="explorer-view">
                    <div class="explorer-folders" id="folderPane">
                        <div class="explorer-item" data-path="C:/">
                            <i class="fas fa-hdd"></i> Êú¨Âú∞Á£ÅÁõò (C:)
                        </div>
                        <div class="explorer-item" data-path="D:/">
                            <i class="fas fa-hdd"></i> Êú¨Âú∞Á£ÅÁõò (D:)
                        </div>
                        <div class="explorer-item" data-path="Documents">
                            <i class="fas fa-folder"></i> ÊàëÁöÑÊñáÊ°£
                        </div>
                        <div class="explorer-item" data-path="Downloads">
                            <i class="fas fa-folder"></i> ‰∏ãËΩΩ
                        </div>
                        <div class="explorer-item" data-path="Desktop">
                            <i class="fas fa-folder"></i> Ê°åÈù¢
                        </div>
                    </div>
                    
                    <div class="explorer-files" id="filePane">
                        <!-- Êñá‰ª∂ÂàóË°®Â∞ÜÈÄöËøáJSÂä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>
                
                <div class="drive-info">
                    <div>ÂèØÁî®Á©∫Èó¥: 2.5 GB / ÊÄªÁ©∫Èó¥: 20 GB</div>
                    <div class="disk-usage-bar">
                        <div class="disk-used-bar" style="width: 85%;"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ÂõûÊî∂Á´ôÁ™óÂè£ -->
        <div class="window" id="recycleBinWindow" style="top: 150px; left: 250px; width: 350px; display: none;">
            <div class="window-header">
                <div class="window-title">ÂõûÊî∂Á´ô</div>
                <div class="close-btn" id="closeRecycleBin">√ó</div>
            </div>
            <div class="window-content">
                <p>ÂõûÊî∂Á´ô‰∏≠Êúâ <strong id="trashCount">3</strong> ‰∏™È°πÁõÆ (ÂÖ± 15.2 MB)</p>
                <div id="trashItems">
                    <div class="trash-item">
                        <div class="trash-item-name"><i class="fas fa-file"></i> old_document.txt</div>
                        <div class="trash-item-date">2023-10-15</div>
                        <button class="btn action-btn restore-item">ËøòÂéü</button>
                    </div>
                    <div class="trash-item">
                        <div class="trash-item-name"><i class="fas fa-file"></i> temp_file.tmp</div>
                        <div class="trash-item-date">2023-10-16</div>
                        <button class="btn action-btn restore-item">ËøòÂéü</button>
                    </div>
                    <div class="trash-item">
                        <div class="trash-item-name"><i class="fas fa-file"></i> unused_program.exe</div>
                        <div class="trash-item-date">2023-10-17</div>
                        <button class="btn action-btn restore-item">ËøòÂéü</button>
                    </div>
                </div>
                <div style="margin-top: 20px;">
                    <button class="btn" id="emptyBinBtn">Ê∏ÖÁ©∫ÂõûÊî∂Á´ô</button>
                    <button class="btn" id="restoreAllBtn">ËøòÂéüÊâÄÊúâÈ°πÁõÆ</button>
                </div>
            </div>
        </div>
        
        <!-- Áé©ÂÆ∂Ê°£Ê°àÁ™óÂè£ -->
        <div class="window" id="profileWindow" style="top: 150px; left: 300px; width: 350px; display: none;">
            <div class="window-header">
                <div class="window-title">Áé©ÂÆ∂Ê°£Ê°à</div>
                <div class="close-btn" id="closeProfile">√ó</div>
            </div>
            <div class="window-content">
                <h3>Áé©ÂÆ∂‰ø°ÊÅØ</h3>
                <div style="margin: 15px 0;">
                    <label>Áé©ÂÆ∂ÂêçÁß∞:</label>
                    <input type="text" id="playerNameInput" value="ÊåëÊàòËÄÖ" style="width: 100%; padding: 5px; margin: 5px 0;">
                </div>
                
                <h3>ÊåëÊàòËøõÂ∫¶</h3>
                <p>Â∑≤ÂÆâË£ÖËΩØ‰ª∂: <span id="installedCountProfile">0</span>/8</p>
                <p>Ââ©‰ΩôÈáëÂ∏Å: <span id="coinsProfile">50</span></p>
                <p>Ê£ÄÊµãÂà∞ÁóÖÊØí: <span id="virusesProfile">0</span></p>
                
                <div style="margin-top: 20px;">
                    <button class="btn" id="saveProfileBtn">‰øùÂ≠ò</button>
                </div>
            </div>
        </div>
        
        <!-- ÊéßÂà∂Èù¢ÊùøÁ™óÂè£ -->
        <div class="window" id="controlPanelWindow" style="top: 150px; left: 300px; width: 400px; display: none;">
            <div class="window-header">
                <div class="window-title">ÊéßÂà∂Èù¢Êùø</div>
                <div class="close-btn" id="closeControlPanel">√ó</div>
            </div>
            <div class="window-content">
                <h3>Á≥ªÁªüËÆæÁΩÆ</h3>
                <div class="checkbox-container">
                    <label class="checkbox-label">
                        <input type="checkbox" class="hidden-checkbox" id="autoUpdateCheck">
                        <span class="fake-checkbox"></span>
                        Ëá™Âä®ÂÆâË£ÖÊõ¥Êñ∞
                    </label>
                </div>
                
                <div class="checkbox-container">
                    <label class="checkbox-label">
                        <input type="checkbox" class="hidden-checkbox" id="firewallCheck" checked>
                        <span class="fake-checkbox"></span>
                        ÂêØÁî®Èò≤ÁÅ´Â¢ô
                    </label>
                </div>
                
                <div id="firewallStatus" class="firewall-status firewall-on">
                    Èò≤ÁÅ´Â¢ôÁä∂ÊÄÅ: Â∑≤ÂêØÁî®
                </div>
                
                <h3>ÊòæÁ§∫ËÆæÁΩÆ</h3>
                <div style="margin: 10px 0;">
                    <label>ÂàÜËæ®Áéá: <span id="resolutionValue">1024x768</span></label>
                    <div style="margin-top: 5px;">
                        <button class="btn" id="decreaseResBtn">Èôç‰Ωé</button>
                        <button class="btn" id="increaseResBtn">ÊèêÈ´ò</button>
                    </div>
                </div>
                
                <div style="margin-top: 20px;">
                    <button class="btn" id="applySettingsBtn">Â∫îÁî®</button>
                </div>
            </div>
        </div>
        
        <!-- Êâ´Èõ∑Ê∏∏Êàè -->
        <div class="minesweeper" id="minesweeper">
            <div class="minesweeper-header">
                <div>Êâ´Èõ∑</div>
                <div class="close-btn" id="closeMinesweeper">√ó</div>
            </div>
            <div style="background: #c0c0c0; padding: 10px; margin-bottom: 10px; display: flex; justify-content: space-between;">
                <div>Ââ©‰Ωô: <span id="minesCount">10</span></div>
                <button class="btn" id="restartMinesweeper">ÈáçÊñ∞ÂºÄÂßã</button>
                <div>Êó∂Èó¥: <span id="gameTime">0</span>Áßí</div>
            </div>
            <div class="minesweeper-grid" id="minesweeperGrid">
                <!-- Êâ´Èõ∑ÁΩëÊ†ºÈÄöËøáJSÁîüÊàê -->
            </div>
            <div style="margin-top: 10px; text-align: center;">
                <button class="btn" id="showPatternBtn">ÊòæÁ§∫ÂΩ©Ëõã</button>
            </div>
        </div>
        
        <!-- ‰ªªÂä°ÁÆ°ÁêÜÂô®Á™óÂè£ -->
        <div class="window" id="taskManagerWindow" style="top: 150px; left: 350px; width: 400px; display: none;">
            <div class="window-header">
                <div class="window-title">Windows ‰ªªÂä°ÁÆ°ÁêÜÂô®</div>
                <div class="close-btn" id="closeTaskManager">√ó</div>
            </div>
            <div class="window-content">
                <div style="display: flex; margin-bottom: 10px;">
                    <button class="btn" id="tmApplicationsBtn">Â∫îÁî®Á®ãÂ∫è</button>
                    <button class="btn" id="tmProcessesBtn">ËøõÁ®ã</button>
                    <button class="btn" id="tmPerformanceBtn">ÊÄßËÉΩ</button>
                </div>
                
                <div id="tmApplications">
                    <h3>Ê≠£Âú®ËøêË°åÁöÑÂ∫îÁî®Á®ãÂ∫è</h3>
                    <ul class="task-manager-list" id="tmAppList">
                        <!-- Â∫îÁî®Á®ãÂ∫èÂàóË°®Â∞ÜÈÄöËøáJSÂä®ÊÄÅÁîüÊàê -->
                    </ul>
                    <div style="text-align: right; margin-top: 10px;">
                        <button class="btn" id="endTaskBtn">ÁªìÊùü‰ªªÂä°</button>
                        <button class="btn" id="switchToBtn">ÂàáÊç¢Ëá≥</button>
                    </div>
                </div>
                
                <div id="tmProcesses" style="display: none;">
                    <h3>ËøõÁ®ã</h3>
                    <div style="margin-bottom: 10px;">
                        <input type="text" id="processFilter" placeholder="Á≠õÈÄâËøõÁ®ã..." style="width: 100%; padding: 5px;">
                    </div>
                    <ul class="task-manager-list" id="tmProcessList">
                        <!-- ËøõÁ®ãÂàóË°®Â∞ÜÈÄöËøáJSÂä®ÊÄÅÁîüÊàê -->
                    </ul>
                    <div style="text-align: right; margin-top: 10px;">
                        <button class="btn" id="endProcessBtn">ÁªìÊùüËøõÁ®ã</button>
                    </div>
                </div>
                
                <div id="tmPerformance" style="display: none;">
                    <h3>ÊÄßËÉΩ</h3>
                    <div style="margin: 10px 0;">
                        <div>CPU ‰ΩøÁî®: <span id="cpuUsage">15%</span></div>
                        <div class="progress-bar" style="height: 10px;">
                            <div class="progress-fill" style="width: 15%; background: #3a6ea5;"></div>
                        </div>
                    </div>
                    <div style="margin: 10px 0;">
                        <div>ÂÜÖÂ≠ò‰ΩøÁî®: <span id="memUsage">512MB / 1024MB</span></div>
                        <div class="progress-bar" style="height: 10px;">
                            <div class="progress-fill" style="width: 50%; background: #3a6ea5;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ÂëΩ‰ª§Ë°åÁ™óÂè£ -->
        <div class="window" id="cmdWindow" style="top: 150px; left: 350px; width: 500px; display: none;">
            <div class="window-header">
                <div class="window-title">ÂëΩ‰ª§ÊèêÁ§∫Á¨¶</div>
                <div class="close-btn" id="closeCmd">√ó</div>
            </div>
            <div class="window-content" style="padding: 0;">
                <div class="cmd-window" id="cmdOutput">
                    Microsoft Windows XP [ÁâàÊú¨ 5.1.2600]<br>
                    (C) ÁâàÊùÉÊâÄÊúâ 1985-2001 Microsoft Corp.<br><br>
                    C:\&gt;
                </div>
                <div class="cmd-input">
                    <span class="cmd-prompt">C:\&gt;</span>
                    <input type="text" class="cmd-input-field" id="cmdInput" autocomplete="off">
                </div>
            </div>
        </div>
        
        <!-- ÂÖ≥Êú∫ÁîªÈù¢ -->
        <div class="shutdown-screen" id="shutdownScreen">
            <h1>ÈªëÂ∏ΩÊåëÊàòËµõ</h1>
            <p>ÈöêËóèÁªìÂ±Ä - ÊÇ®ÈÄâÊã©‰∫ÜÊèêÂâçÂÖ≥Êú∫</p>
            <p>Ëøô‰∏™ÈöêËóèÁªìÂ±ÄÂè™ÊúâÁúüÊ≠£ÁöÑÈªëÂÆ¢ÊâçËÉΩÂèëÁé∞ÔºÅ</p>
            <p>ÊÇ®Ëé∑Âæó‰∫Ü <span style="color: gold;">ÈªëÂÆ¢ÂΩ©ËõãÊàêÂ∞±</span></p>
            <p>Â∑≤ÂÆâË£ÖËΩØ‰ª∂: <span id="installedBeforeShutdown">0</span>/8</p>
            <p>Ââ©‰ΩôÈáëÂ∏Å: <span id="coinsBeforeShutdown">50</span></p>
            <div style="margin-top: 30px;">
                <button class="btn" id="restartAfterShutdown" style="background: #0a246a; color: white; padding: 10px 30px; font-size: 18px;">ÈáçÊñ∞ÂºÄÂßãÊ∏∏Êàè</button>
            </div>
        </div>
        
        <!-- ÈÄöÂÖ≥ÁªìÂ±ÄÁîªÈù¢ -->
        <div class="ending-screen" id="endingScreen">
            <div class="ending-content">
                <h1>ÊåëÊàòÊàêÂäüÔºÅ</h1>
                <p>ÊÅ≠ÂñúÊÇ®ÂÆåÊàê‰∫ÜÈªëÂ∏ΩÊåëÊàòËµõÁöÑÊâÄÊúâ‰ªªÂä°ÔºÅ</p>
                <p>ÊÇ®ÊàêÂäüÂÆâË£Ö‰∫ÜÊâÄÊúâ8‰∏™ËΩØ‰ª∂ÔºåÂ±ïÁ§∫‰∫ÜÂçìË∂äÁöÑÊäÄÊúØËÉΩÂäõ</p>
                
                <div class="ending-stats">
                    <div class="stat-box">
                        <div class="stat-value" id="endingCoins">50</div>
                        <div class="stat-label">Ëé∑ÂæóÈáëÂ∏Å</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="endingViruses">0</div>
                        <div class="stat-label">Ê£ÄÊµãÂà∞ÁóÖÊØí</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="endingTime">0</div>
                        <div class="stat-label">ÂàÜÈíüÂÆåÊàê</div>
                    </div>
                </div>
                
                <p>ÊÇ®ËØÅÊòé‰∫ÜËá™Â∑±ÊòØ‰∏ÄÂêçÁúüÊ≠£ÁöÑËΩØ‰ª∂ÂÆâË£ÖÂ§ßÂ∏àÔºÅ</p>
                <div style="margin-top: 30px;">
                    <button class="btn" id="restartAfterEnding" style="background: #ffcc00; color: #000; padding: 10px 30px; font-size: 18px; font-weight: bold;">ÂÜçÁé©‰∏ÄÊ¨°</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ê∏∏ÊàèÁä∂ÊÄÅ
        const gameState = {
            coins: 50,
            currentStep: 0,
            installedViruses: 0,
            history: [],
            currentInstallation: {
                options: [],
                selectedOptions: [],
                name: "",
                id: 0,
                requiredOptions: []
            },
            installations: [
                {
                    id: 1,
                    name: "Á≥ªÁªü‰ºòÂåñÂ§ßÂ∏à",
                    description: "ÊèêÂçáÁ≥ªÁªüÊÄßËÉΩÁöÑÂ∑•ÂÖ∑Â•ó‰ª∂",
                    requiredOptions: [1],
                    sender: "tech_support@systemtools.com",
                    subject: "ÊÇ®ËØ∑Ê±ÇÁöÑÁ≥ªÁªü‰ºòÂåñÂ∑•ÂÖ∑",
                    folder: "inbox",
                    icon: "fa-tools"
                },
                {
                    id: 2,
                    name: "MediaMax Êí≠ÊîæÂô®",
                    description: "‰∏áËÉΩÂ™í‰ΩìÊí≠ÊîæÂô®",
                    requiredOptions: [1],
                    sender: "media_sales@downloads.com",
                    subject: "ÊÇ®ÁöÑÂ™í‰ΩìÊí≠ÊîæÂô®ÂÆâË£ÖÂåÖ",
                    folder: "inbox",
                    icon: "fa-play-circle"
                },
                {
                    id: 3,
                    name: "WebSurf Pro ÊµèËßàÂô®",
                    description: "È´òÁ∫ßÁΩëÈ°µÊµèËßàÂô®",
                    requiredOptions: [1, 4],
                    sender: "browser_dev@websurf.com",
                    subject: "WebSurf Pro ÂÆâË£ÖÁ®ãÂ∫è",
                    folder: "inbox",
                    icon: "fa-globe"
                },
                {
                    id: 4,
                    name: "FileZipper ÂéãÁº©Â∑•ÂÖ∑",
                    description: "Êñá‰ª∂ÂéãÁº©‰∏éËß£ÂéãÂ∑•ÂÖ∑",
                    requiredOptions: [1, 3],
                    sender: "file_utils@compression.com",
                    subject: "FileZipper 2005 ÂÆâË£ÖÂåÖ",
                    folder: "inbox",
                    icon: "fa-file-archive"
                },
                {
                    id: 5,
                    name: "ÂÆâÂÖ®Èò≤Êä§Áõæ",
                    description: "Á≥ªÁªüÂÆâÂÖ®Èò≤Êä§ËΩØ‰ª∂",
                    requiredOptions: [1],
                    sender: "security@defenders.org",
                    subject: "ÊÇ®ËØ∑Ê±ÇÁöÑÂÆâÂÖ®ËΩØ‰ª∂",
                    folder: "inbox",
                    icon: "fa-shield-alt"
                },
                {
                    id: 6,
                    name: "ÊñáÊ°£ÁºñËæëÂô® Pro",
                    description: "È´òÁ∫ßÊñáÊ°£Â§ÑÁêÜÂ∑•ÂÖ∑",
                    requiredOptions: [1],
                    sender: "office_tools@productivity.com",
                    subject: "ÊñáÊ°£ÁºñËæëÂô®ÂÆâË£ÖÂåÖ",
                    folder: "inbox",
                    icon: "fa-file-word"
                },
                {
                    id: 7,
                    name: "ÁΩëÁªúÂä†ÈÄüÂô®",
                    description: "ÊèêÂçáÁΩëÁªúËøûÊé•ÈÄüÂ∫¶",
                    requiredOptions: [1],
                    sender: "net_speed@optimizers.com",
                    subject: "ÁΩëÁªúÂä†ÈÄüËß£ÂÜ≥ÊñπÊ°à",
                    folder: "inbox",
                    icon: "fa-bolt"
                },
                {
                    id: 8,
                    name: "ÁªàÊûÅÊ∏ÖÁêÜÂ∑•ÂÖ∑",
                    description: "Á≥ªÁªüÊ∏ÖÁêÜ‰∏éÁª¥Êä§",
                    requiredOptions: [1],
                    sender: "sys_clean@maintenance.com",
                    subject: "ÊÇ®ÁöÑÁ≥ªÁªüÊ∏ÖÁêÜÂ∑•ÂÖ∑",
                    folder: "inbox",
                    icon: "fa-broom"
                }
            ],
            sentMails: [
                {
                    id: 101,
                    recipient: "tech_support@systemtools.com",
                    subject: "ÂÖ≥‰∫éÁ≥ªÁªü‰ºòÂåñÂ∑•ÂÖ∑ÁöÑÂí®ËØ¢",
                    folder: "sent"
                },
                {
                    id: 102,
                    recipient: "security@defenders.org",
                    subject: "ÂÆâÂÖ®ËΩØ‰ª∂ËØïÁî®ËØ∑Ê±Ç",
                    folder: "sent"
                }
            ],
            currentInstallIndex: 0,
            installedCount: 0,
            activePopups: [],
            easterEggsFound: 0,
            totalVirusesInstalled: 0,
            currentMailPage: 1,
            mailsPerPage: 5,
            playerName: "ÊåëÊàòËÄÖ",
            blackhatName: "ÈªëÂ∏ΩÈªëÂÆ¢",
            challengeActive: true,
            currentMailFolder: "inbox",
            selectedMailId: null,
            startTime: new Date(),
            firewallEnabled: true,
            resolution: 0, // 0:1024x768, 1:1280x720, 2:1366x768
            resolutions: ["1024x768", "1280x720", "1366x768"],
            desktopShortcuts: [],
            trashItems: [
                { name: "old_document.txt", size: "2.3 MB", date: "2023-10-15" },
                { name: "temp_file.tmp", size: "0.5 MB", date: "2023-10-16" },
                { name: "unused_program.exe", size: "12.4 MB", date: "2023-10-17" }
            ],
            minesweeperPattern: [3, 9, 10, 11, 15, 16, 17, 21, 22, 23, 27, 33, 39, 45], // Á¨ëËÑ∏ÂõæÊ°à
            currentFolder: "root",
            openWindows: [],
            runningProcesses: [
                { id: 1, name: "explorer.exe", cpu: 2, memory: 45 },
                { id: 2, name: "taskmgr.exe", cpu: 1, memory: 15 },
                { id: 3, name: "chrome.exe", cpu: 5, memory: 120 },
                { id: 4, name: "winword.exe", cpu: 3, memory: 80 }
            ],
            fileSystem: {
                root: {
                    name: "ÊàëÁöÑÁîµËÑë",
                    type: "folder",
                    items: [
                        { name: "Êú¨Âú∞Á£ÅÁõò (C:)", path: "C:/", type: "drive" },
                        { name: "Êú¨Âú∞Á£ÅÁõò (D:)", path: "D:/", type: "drive" },
                        { name: "ÊàëÁöÑÊñáÊ°£", path: "Documents", type: "folder" },
                        { name: "‰∏ãËΩΩ", path: "Downloads", type: "folder" },
                        { name: "Ê°åÈù¢", path: "Desktop", type: "folder" }
                    ]
                },
                "C:/": {
                    name: "Êú¨Âú∞Á£ÅÁõò (C:)",
                    type: "drive",
                    items: [
                        { name: "Windows", path: "C:/Windows", type: "folder" },
                        { name: "Program Files", path: "C:/Program Files", type: "folder" },
                        { name: "Documents and Settings", path: "C:/Documents and Settings", type: "folder" },
                        { name: "boot.ini", type: "file", size: "0.2 KB" },
                        { name: "pagefile.sys", type: "file", size: "1.2 GB" }
                    ]
                },
                "Documents": {
                    name: "ÊàëÁöÑÊñáÊ°£",
                    type: "folder",
                    items: [
                        { name: "Êä•Âëä.doc", type: "file", size: "1.2 MB" },
                        { name: "ÁÆÄÂéÜ.pdf", type: "file", size: "0.8 MB" },
                        { name: "ÂõæÁâá", path: "Documents/Pictures", type: "folder" },
                        { name: "Èü≥‰πê", path: "Documents/Music", type: "folder" }
                    ]
                },
                "Downloads": {
                    name: "‰∏ãËΩΩ",
                    type: "folder",
                    items: [
                        { name: "setup.exe", type: "file", size: "15.4 MB" },
                        { name: "manual.pdf", type: "file", size: "3.2 MB" },
                        { name: "patch.zip", type: "file", size: "7.8 MB" }
                    ]
                }
            }
        };
        
        // DOMÂÖÉÁ¥†
        const elements = {
            mailIcon: document.getElementById('mailIcon'),
            mailWindow: document.getElementById('mailWindow'),
            mailViewWindow: document.getElementById('mailViewWindow'),
            mailViewContent: document.getElementById('mailViewContent'),
            mailList: document.getElementById('mailList'),
            installWindow: document.getElementById('installWindow'),
            installContent: document.getElementById('installContent'),
            resultWindow: document.getElementById('resultWindow'),
            resultContent: document.getElementById('resultContent'),
            downloadBtn: document.getElementById('downloadBtn'),
            closeMail: document.getElementById('closeMail'),
            closeMailView: document.getElementById('closeMailView'),
            closeInstall: document.getElementById('closeInstall'),
            closeResult: document.getElementById('closeResult'),
            coinsDisplay: document.getElementById('coinsCount'),
            notification: document.getElementById('notification'),
            historyBtn: document.getElementById('historyBtn'),
            timeDisplay: document.getElementById('timeDisplay'),
            popupAd: document.getElementById('popupAd'),
            closeAd: document.getElementById('closeAd'),
            downloadAdBtn: document.getElementById('downloadAdBtn'),
            ransomWindow: document.getElementById('ransomWindow'),
            closeRansom: document.getElementById('closeRansom'),
            payRansomBtn: document.getElementById('payRansomBtn'),
            ignoreRansomBtn: document.getElementById('ignoreRansomBtn'),
            countdown: document.getElementById('countdown'),
            mailTask: document.getElementById('mailTask'),
            installTask: document.getElementById('installTask'),
            virusNotice: document.getElementById('virusNotice'),
            virusCount: document.getElementById('virusCount'),
            desktop: document.getElementById('desktop'),
            myComputer: document.getElementById('myComputer'),
            recycleBin: document.getElementById('recycleBin'),
            myComputerWindow: document.getElementById('myComputerWindow'),
            recycleBinWindow: document.getElementById('recycleBinWindow'),
            closeMyComputer: document.getElementById('closeMyComputer'),
            closeRecycleBin: document.getElementById('closeRecycleBin'),
            emptyBinBtn: document.getElementById('emptyBinBtn'),
            restoreAllBtn: document.getElementById('restoreAllBtn'),
            startBtn: document.getElementById('startBtn'),
            startMenu: document.getElementById('startMenu'),
            closeStartMenu: document.getElementById('closeStartMenu'),
            inboxBtn: document.getElementById('inboxBtn'),
            sentBtn: document.getElementById('sentBtn'),
            newMailBtn: document.getElementById('newMailBtn'),
            deleteMailBtn: document.getElementById('deleteMailBtn'),
            prevPageBtn: document.getElementById('prevPageBtn'),
            nextPageBtn: document.getElementById('nextPageBtn'),
            page1Btn: document.getElementById('page1Btn'),
            page2Btn: document.getElementById('page2Btn'),
            playerName: document.getElementById('playerName'),
            coinsInPC: document.getElementById('coinsInPC'),
            shutdownScreen: document.getElementById('shutdownScreen'),
            installedBeforeShutdown: document.getElementById('installedBeforeShutdown'),
            coinsBeforeShutdown: document.getElementById('coinsBeforeShutdown'),
            restartAfterShutdown: document.getElementById('restartAfterShutdown'),
            profileItem: document.getElementById('profileItem'),
            mailClientItem: document.getElementById('mailClientItem'),
            gamesItem: document.getElementById('gamesItem'),
            controlPanelItem: document.getElementById('controlPanelItem'),
            taskManagerItem: document.getElementById('taskManagerItem'),
            cmdItem: document.getElementById('cmdItem'),
            shutdownItem: document.getElementById('shutdownItem'),
            profileWindow: document.getElementById('profileWindow'),
            controlPanelWindow: document.getElementById('controlPanelWindow'),
            closeProfile: document.getElementById('closeProfile'),
            closeControlPanel: document.getElementById('closeControlPanel'),
            playerNameInput: document.getElementById('playerNameInput'),
            installedCountProfile: document.getElementById('installedCountProfile'),
            coinsProfile: document.getElementById('coinsProfile'),
            virusesProfile: document.getElementById('virusesProfile'),
            saveProfileBtn: document.getElementById('saveProfileBtn'),
            endingScreen: document.getElementById('endingScreen'),
            endingCoins: document.getElementById('endingCoins'),
            endingViruses: document.getElementById('endingViruses'),
            endingTime: document.getElementById('endingTime'),
            restartAfterEnding: document.getElementById('restartAfterEnding'),
            contextMenu: document.getElementById('contextMenu'),
            newFolderItem: document.getElementById('newFolderItem'),
            shortcutItem: document.getElementById('shortcutItem'),
            refreshItem: document.getElementById('refreshItem'),
            propertiesItem: document.getElementById('propertiesItem'),
            minesweeper: document.getElementById('minesweeper'),
            closeMinesweeper: document.getElementById('closeMinesweeper'),
            minesweeperGrid: document.getElementById('minesweeperGrid'),
            restartMinesweeper: document.getElementById('restartMinesweeper'),
            minesCount: document.getElementById('minesCount'),
            gameTime: document.getElementById('gameTime'),
            showPatternBtn: document.getElementById('showPatternBtn'),
            firewallCheck: document.getElementById('firewallCheck'),
            autoUpdateCheck: document.getElementById('autoUpdateCheck'),
            decreaseResBtn: document.getElementById('decreaseResBtn'),
            increaseResBtn: document.getElementById('increaseResBtn'),
            resolutionValue: document.getElementById('resolutionValue'),
            applySettingsBtn: document.getElementById('applySettingsBtn'),
            firewallStatus: document.getElementById('firewallStatus'),
            trashCount: document.getElementById('trashCount'),
            trashItems: document.getElementById('trashItems'),
            shutdownOverlay: document.getElementById('shutdownOverlay'),
            taskManagerWindow: document.getElementById('taskManagerWindow'),
            closeTaskManager: document.getElementById('closeTaskManager'),
            tmApplicationsBtn: document.getElementById('tmApplicationsBtn'),
            tmProcessesBtn: document.getElementById('tmProcessesBtn'),
            tmPerformanceBtn: document.getElementById('tmPerformanceBtn'),
            tmAppList: document.getElementById('tmAppList'),
            tmProcessList: document.getElementById('tmProcessList'),
            endTaskBtn: document.getElementById('endTaskBtn'),
            endProcessBtn: document.getElementById('endProcessBtn'),
            cmdWindow: document.getElementById('cmdWindow'),
            closeCmd: document.getElementById('closeCmd'),
            cmdOutput: document.getElementById('cmdOutput'),
            cmdInput: document.getElementById('cmdInput'),
            backBtn: document.getElementById('backBtn'),
            forwardBtn: document.getElementById('forwardBtn'),
            upBtn: document.getElementById('upBtn'),
            breadcrumb: document.getElementById('breadcrumb'),
            folderPane: document.getElementById('folderPane'),
            filePane: document.getElementById('filePane')
        };
        
        // ÂÆâË£ÖÊ≠•È™§ÈÖçÁΩÆ
        const installationSteps = {
            1: [
                {
                    title: "Ê¨¢Ëøé‰ΩøÁî® Á≥ªÁªü‰ºòÂåñÂ§ßÂ∏à ÂÆâË£ÖÂêëÂØº",
                    content: "Êú¨ÂêëÂØºÂ∞ÜÂºïÂØºÊÇ®ÂÆåÊàêÁ≥ªÁªü‰ºòÂåñÂ§ßÂ∏àÁöÑÂÆâË£ÖËøáÁ®ã„ÄÇ",
                    buttons: [{text: "‰∏ã‰∏ÄÊ≠• >", action: "next"}],
                    options: []
                },
                {
                    title: "ËÆ∏ÂèØÂçèËÆÆ",
                    content: "ËØ∑‰ªîÁªÜÈòÖËØª‰ª•‰∏ãËÆ∏ÂèØÂçèËÆÆ„ÄÇÊÇ®ÂøÖÈ°ªÊé•ÂèóÂçèËÆÆÊâçËÉΩÁªßÁª≠ÂÆâË£Ö„ÄÇ",
                    buttons: [
                        {text: "< ‰∏ä‰∏ÄÊ≠•", action: "prev"},
                        {text: "ÊàëÊé•Âèó >", action: "next", id: "acceptBtn", disabled: true}
                    ],
                    options: [
                        {text: "ÊàëÊé•ÂèóËÆ∏ÂèØÂçèËÆÆÊù°Ê¨æ", type: "checkbox", required: true, virus: false}
                    ],
                    special: "agreement"
                },
                {
                    title: "‰ºòÂåñÈÄâÈ°π",
                    content: "ÈÄâÊã©Ë¶ÅÂ∫îÁî®ÁöÑ‰ºòÂåñÈÄâÈ°πÔºàÊé®ËçêÂÖ®ÈÉ®ÂÆâË£Ö‰ª•Ëé∑ÂæóÊúÄ‰Ω≥‰ΩìÈ™åÔºâ„ÄÇ",
                    buttons: [
                        {text: "< ‰∏ä‰∏ÄÊ≠•", action: "prev"},
                        {text: "‰∏ã‰∏ÄÊ≠• >", action: "next"}
                    ],
                    options: [
                        {text: "ÂÆâË£ÖÁ≥ªÁªüÂä†ÈÄüÊ®°Âùó", type: "checkbox", checked: true, virus: false},
                        {text: "ÂÆâË£ÖÂÜÖÂ≠ò‰ºòÂåñÂ∑•ÂÖ∑", type: "checkbox", checked: true, virus: true},
                        {text: "ÂÆâË£ÖÊ≥®ÂÜåË°®Ê∏ÖÁêÜÂô®", type: "checkbox", checked: true, virus: true},
                        {text: "ÂÆâË£ÖÂêØÂä®È°πÁÆ°ÁêÜÂô®", type: "checkbox", checked: true, virus: false}
                    ]
                },
                {
                    title: "ÈôÑÂä†ÁªÑ‰ª∂",
                    content: "ÈÄâÊã©Ë¶ÅÂÆâË£ÖÁöÑÈôÑÂä†ÁªÑ‰ª∂„ÄÇ",
                    buttons: [
                        {text: "< ‰∏ä‰∏ÄÊ≠•", action: "prev"},
                        {text: "‰∏ã‰∏ÄÊ≠• >", action: "next"}
                    ],
                    options: [
                        {text: "ÂàõÂª∫Ê°åÈù¢Âø´Êç∑ÊñπÂºè", type: "checkbox", checked: true, virus: false},
                        {text: "ÂÆâË£ÖÊÄßËÉΩÁõëËßÜÂô®", type: "checkbox", checked: true, virus: false},
                        {text: "ÂÆâË£ÖÈ´òÁ∫ßËØäÊñ≠Â∑•ÂÖ∑", type: "checkbox", checked: true, virus: true}
                    ]
                },
                {
                    title: "ÂáÜÂ§áÂÆâË£Ö",
                    content: "ÂÆâË£ÖÁ®ãÂ∫èÂ∑≤ÂáÜÂ§áÂ•ΩÂºÄÂßãÂÆâË£ÖÁ≥ªÁªü‰ºòÂåñÂ§ßÂ∏à„ÄÇ",
                    buttons: [
                        {text: "< ‰∏ä‰∏ÄÊ≠•", action: "prev"},
                        {text: "ÂÆâË£Ö", action: "install"}
                    ],
                    options: []
                },
                {
                    title: "Ê≠£Âú®ÂÆâË£Ö",
                    content: "Ê≠£Âú®ÂÆâË£ÖÁ≥ªÁªü‰ºòÂåñÂ§ßÂ∏àÔºåËØ∑Á®çÂÄô...",
                    buttons: [],
                    options: []
                },
                {
                    title: "ÂÆâË£ÖÂÆåÊàê",
                    content: "Á≥ªÁªü‰ºòÂåñÂ§ßÂ∏àÂ∑≤ÊàêÂäüÂÆâË£ÖÂú®ÊÇ®ÁöÑËÆ°ÁÆóÊú∫‰∏ä„ÄÇ",
                    buttons: [
                        {text: "ÂÆåÊàê", action: "finish"}
                    ],
                    options: [
                        {text: "ËøêË°åÁ≥ªÁªü‰ºòÂåñÂ§ßÂ∏à", type: "checkbox", checked: true, virus: false},
                        {text: "ÂÆâË£ÖÁ≥ªÁªüÊ∏ÖÁêÜÂ∑•ÂÖ∑", type: "checkbox", checked: true, virus: true},
                        {text: "Êü•Áúã‰ºòÂåñÊä•Âëä", type: "checkbox", checked: true, virus: false}
                    ]
                }
            ],
            2: [
                {
                    title: "MediaMax Player ÂÆâË£Ö",
                    content: "Ê¨¢Ëøé‰ΩøÁî®ÊúÄÂº∫Â§ßÁöÑÂ™í‰ΩìÊí≠ÊîæÂô®ÂÆâË£ÖÁ®ãÂ∫è",
                    buttons: [{text: "‰∏ã‰∏ÄÊ≠• >", action: "next"}],
                    options: []
                },
                {
                    title: "ËÆ∏ÂèØÂçèËÆÆ",
                    content: "ËØ∑ÈòÖËØªÂπ∂Êé•ÂèóËÆ∏ÂèØÂçèËÆÆ",
                    buttons: [
                        {text: "< ‰∏ä‰∏ÄÊ≠•", action: "prev"},
                        {text: "ÊàëÊé•Âèó >", action: "next", id: "acceptBtn", disabled: true}
                    ],
                    options: [
                        {text: "ÊàëÊé•ÂèóËÆ∏ÂèØÂçèËÆÆÊù°Ê¨æ", type: "checkbox", required: true, virus: false}
                    ],
                    special: "agreement"
                },
                {
                    title: "Â™í‰ΩìÊîØÊåÅ",
                    content: "ÈÄâÊã©Ë¶ÅÊîØÊåÅÁöÑÂ™í‰ΩìÊ†ºÂºè",
                    buttons: [
                        {text: "< ‰∏ä‰∏ÄÊ≠•", action: "prev"},
                        {text: "‰∏ã‰∏ÄÊ≠• >", action: "next"}
                    ],
                    options: [
                        {text: "ÊîØÊåÅMP3, MP4Ê†ºÂºè", type: "checkbox", checked: true, virus: false},
                        {text: "ÊîØÊåÅAVI, MKVÊ†ºÂºè", type: "checkbox", checked: true, virus: false},
                        {text: "ÂÆâË£ÖÈ´òÁ∫ßÁºñËß£Á†ÅÂô®ÂåÖ", type: "checkbox", checked: true, virus: true}
                    ]
                },
                {
                    title: "È¢ùÂ§ñÂäüËÉΩ",
                    content: "ÈÄâÊã©Ë¶ÅÂÆâË£ÖÁöÑÈ¢ùÂ§ñÂäüËÉΩ",
                    buttons: [
                        {text: "< ‰∏ä‰∏ÄÊ≠•", action: "prev"},
                        {text: "‰∏ã‰∏ÄÊ≠• >", action: "next"}
                    ],
                    options: [
                        {text: "ÂàõÂª∫Ê°åÈù¢Âø´Êç∑ÊñπÂºè", type: "checkbox", checked: true, virus: false},
                        {text: "ÂÆâË£ÖÂ™í‰ΩìÂ∫ìÁÆ°ÁêÜÂô®", type: "checkbox", checked: true, virus: false},
                        {text: "ÂÆâË£ÖÂú®Á∫øËßÜÈ¢ë‰∏ãËΩΩÂô®", type: "checkbox", checked: true, virus: true}
                    ]
                },
                {
                    title: "ÂáÜÂ§áÂÆâË£Ö",
                    content: "ÂáÜÂ§áÂÆâË£Ö MediaMax Player",
                    buttons: [
                        {text: "< ‰∏ä‰∏ÄÊ≠•", action: "prev"},
                        {text: "ÂÆâË£Ö", action: "install"}
                    ],
                    options: []
                },
                {
                    title: "Ê≠£Âú®ÂÆâË£Ö",
                    content: "Ê≠£Âú®ÂÆâË£Ö MediaMax PlayerÔºåËØ∑Á®çÂÄô...",
                    buttons: [],
                    options: []
                },
                {
                    title: "ÂÆâË£ÖÂÆåÊàê",
                    content: "MediaMax Player Â∑≤ÊàêÂäüÂÆâË£Ö",
                    buttons: [
                        {text: "ÂÆåÊàê", action: "finish"}
                    ],
                    options: [
                        {text: "ËøêË°å MediaMax Player", type: "checkbox", checked: true, virus: false},
                        {text: "ÂÆâË£ÖÂ™í‰ΩìËΩ¨Êç¢Â∑•ÂÖ∑", type: "checkbox", checked: true, virus: true},
                        {text: "ËÆ¢ÈòÖÂ™í‰ΩìÊõ¥Êñ∞ÊúçÂä°", type: "checkbox", checked: true, virus: false}
                    ]
                }
            ]
        };
        
        // ÂàùÂßãÂåñÊ∏∏Êàè
        function initGame() {
            // ÊòæÁ§∫Êñ∞ÈÇÆ‰ª∂ÈÄöÁü•
            elements.notification.style.display = 'block';
            
            // Êõ¥Êñ∞Êó∂Èó¥ÊòæÁ§∫
            updateTime();
            setInterval(updateTime, 60000);
            
            // ÁªëÂÆö‰∫ã‰ª∂
            elements.mailIcon.addEventListener('click', openMail);
            elements.closeMail.addEventListener('click', closeMail);
            elements.closeMailView.addEventListener('click', closeMailView);
            elements.closeInstall.addEventListener('click', closeInstall);
            elements.closeResult.addEventListener('click', closeResult);
            elements.historyBtn.addEventListener('click', goBackInHistory);
            elements.closeAd.addEventListener('click', closePopupAd);
            elements.downloadAdBtn.addEventListener('click', downloadAdSoftware);
            elements.closeRansom.addEventListener('click', closeRansom);
            elements.payRansomBtn.addEventListener('click', payRansom);
            elements.ignoreRansomBtn.addEventListener('click', ignoreRansom);
            elements.mailTask.addEventListener('click', openMail);
            elements.installTask.addEventListener('click', openInstall);
            elements.myComputer.addEventListener('click', openMyComputer);
            elements.recycleBin.addEventListener('click', openRecycleBin);
            elements.closeMyComputer.addEventListener('click', closeMyComputer);
            elements.closeRecycleBin.addEventListener('click', closeRecycleBin);
            elements.emptyBinBtn.addEventListener('click', emptyRecycleBin);
            elements.restoreAllBtn.addEventListener('click', restoreAllRecycleBin);
            elements.startBtn.addEventListener('click', toggleStartMenu);
            elements.closeStartMenu.addEventListener('click', closeStartMenu);
            elements.inboxBtn.addEventListener('click', () => setMailFolder('inbox'));
            elements.sentBtn.addEventListener('click', () => setMailFolder('sent'));
            elements.newMailBtn.addEventListener('click', newMail);
            elements.deleteMailBtn.addEventListener('click', deleteMail);
            elements.prevPageBtn.addEventListener('click', () => changeMailPage(-1));
            elements.nextPageBtn.addEventListener('click', () => changeMailPage(1));
            elements.page1Btn.addEventListener('click', () => setMailPage(1));
            elements.page2Btn.addEventListener('click', () => setMailPage(2));
            elements.restartAfterShutdown.addEventListener('click', () => location.reload());
            elements.restartAfterEnding.addEventListener('click', () => location.reload());
            
            // ÂºÄÂßãËèúÂçïÂäüËÉΩ
            elements.profileItem.addEventListener('click', openProfile);
            elements.mailClientItem.addEventListener('click', openMail);
            elements.gamesItem.addEventListener('click', openMinesweeper);
            elements.controlPanelItem.addEventListener('click', openControlPanel);
            elements.taskManagerItem.addEventListener('click', openTaskManager);
            elements.cmdItem.addEventListener('click', openCmd);
            elements.shutdownItem.addEventListener('click', shutdownComputer);
            
            // Áé©ÂÆ∂Ê°£Ê°àÂäüËÉΩ
            elements.closeProfile.addEventListener('click', closeProfile);
            elements.saveProfileBtn.addEventListener('click', saveProfile);
            
            // ÊéßÂà∂Èù¢ÊùøÂäüËÉΩ
            elements.closeControlPanel.addEventListener('click', closeControlPanel);
            elements.firewallCheck.addEventListener('change', toggleFirewall);
            elements.autoUpdateCheck.addEventListener('change', toggleAutoUpdate);
            elements.decreaseResBtn.addEventListener('click', decreaseResolution);
            elements.increaseResBtn.addEventListener('click', increaseResolution);
            elements.applySettingsBtn.addEventListener('click', applySettings);
            
            // Âè≥ÈîÆËèúÂçïÂäüËÉΩ
            elements.desktop.addEventListener('contextmenu', showContextMenu);
            elements.desktop.addEventListener('click', hideContextMenu);
            elements.newFolderItem.addEventListener('click', createNewFolder);
            elements.shortcutItem.addEventListener('click', createShortcut);
            elements.refreshItem.addEventListener('click', refreshDesktop);
            elements.propertiesItem.addEventListener('click', showProperties);
            
            // Êâ´Èõ∑Ê∏∏ÊàèÂäüËÉΩ
            elements.closeMinesweeper.addEventListener('click', closeMinesweeper);
            elements.restartMinesweeper.addEventListener('click', initMinesweeper);
            elements.showPatternBtn.addEventListener('click', showMinesweeperPattern);
            
            // ÂõûÊî∂Á´ôÂäüËÉΩ
            document.querySelectorAll('.restore-item').forEach(btn => {
                btn.addEventListener('click', restoreItem);
            });
            
            // ‰ªªÂä°ÁÆ°ÁêÜÂô®ÂäüËÉΩ
            elements.closeTaskManager.addEventListener('click', closeTaskManager);
            elements.tmApplicationsBtn.addEventListener('click', () => showTaskManagerTab('tmApplications'));
            elements.tmProcessesBtn.addEventListener('click', () => showTaskManagerTab('tmProcesses'));
            elements.tmPerformanceBtn.addEventListener('click', () => showTaskManagerTab('tmPerformance'));
            elements.endTaskBtn.addEventListener('click', endTask);
            elements.endProcessBtn.addEventListener('click', endProcess);
            
            // ÂëΩ‰ª§Ë°åÂäüËÉΩ
            elements.closeCmd.addEventListener('click', closeCmd);
            elements.cmdInput.addEventListener('keydown', handleCmdInput);
            
            // Êñá‰ª∂ÊµèËßàÂô®ÂäüËÉΩ
            elements.backBtn.addEventListener('click', goBackInExplorer);
            elements.forwardBtn.addEventListener('click', goForwardInExplorer);
            elements.upBtn.addEventListener('click', goUpInExplorer);
            
            // ÁªëÂÆöÂΩ©Ëõã‰∫ã‰ª∂
            document.querySelectorAll('.easter-egg').forEach(egg => {
                egg.addEventListener('click', findEasterEgg);
            });
            
            // ÂàùÂßãÂåñÁ™óÂè£ÊãñÂä®
            initWindowDrag();
            
            // ÂàùÂßãÂåñÊâ´Èõ∑Ê∏∏Êàè
            initMinesweeper();
            
            // ÂàùÂßãÂåñÊñá‰ª∂ÊµèËßàÂô®
            renderFolderView('root');
            
            updateCoinsDisplay();
            renderMailList();
            updateTrashDisplay();
            renderTaskManagerApps();
            renderTaskManagerProcesses();
        }
        
        // ÊâìÂºÄ‰ªªÂä°ÁÆ°ÁêÜÂô®
        function openTaskManager() {
            elements.taskManagerWindow.style.display = 'block';
            closeStartMenu();
        }
        
        // ÂÖ≥Èó≠‰ªªÂä°ÁÆ°ÁêÜÂô®
        function closeTaskManager() {
            elements.taskManagerWindow.style.display = 'none';
        }
        
        // ÊòæÁ§∫‰ªªÂä°ÁÆ°ÁêÜÂô®Ê†áÁ≠æÈ°µ
        function showTaskManagerTab(tabId) {
            document.getElementById('tmApplications').style.display = 'none';
            document.getElementById('tmProcesses').style.display = 'none';
            document.getElementById('tmPerformance').style.display = 'none';
            
            document.getElementById(tabId).style.display = 'block';
        }
        
        // Ê∏≤Êüì‰ªªÂä°ÁÆ°ÁêÜÂô®Â∫îÁî®Á®ãÂ∫èÂàóË°®
        function renderTaskManagerApps() {
            let html = '';
            const windows = ['mailWindow', 'installWindow', 'myComputerWindow', 'recycleBinWindow', 'minesweeper'];
            
            windows.forEach(windowId => {
                if (elements[windowId].style.display === 'block') {
                    const title = elements[windowId].querySelector('.window-title').textContent;
                    html += `
                        <li class="task-manager-item">
                            <div class="task-manager-item-name">${title}</div>
                        </li>
                    `;
                }
            });
            
            elements.tmAppList.innerHTML = html;
        }
        
        // Ê∏≤Êüì‰ªªÂä°ÁÆ°ÁêÜÂô®ËøõÁ®ãÂàóË°®
        function renderTaskManagerProcesses() {
            let html = '';
            
            gameState.runningProcesses.forEach(process => {
                html += `
                    <li class="task-manager-item">
                        <div class="task-manager-item-name">${process.name}</div>
                        <div>${process.cpu}%</div>
                        <div>${process.memory}MB</div>
                    </li>
                `;
            });
            
            elements.tmProcessList.innerHTML = html;
        }
        
        // ÁªìÊùü‰ªªÂä°
        function endTask() {
            const selected = elements.tmAppList.querySelector('.selected');
            if (selected) {
                const title = selected.querySelector('.task-manager-item-name').textContent;
                
                // Ê†πÊçÆÊ†áÈ¢òÊü•ÊâæÂØπÂ∫îÁöÑÁ™óÂè£Âπ∂ÂÖ≥Èó≠
                const windows = ['mailWindow', 'installWindow', 'myComputerWindow', 'recycleBinWindow', 'minesweeper'];
                windows.forEach(windowId => {
                    if (elements[windowId].querySelector('.window-title').textContent === title) {
                        elements[windowId].style.display = 'none';
                    }
                });
                
                renderTaskManagerApps();
                alert(`Â∑≤ÁªìÊùü‰ªªÂä°: ${title}`);
            } else {
                alert("ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™‰ªªÂä°ÔºÅ");
            }
        }
        
        // ÁªìÊùüËøõÁ®ã
        function endProcess() {
            const selected = elements.tmProcessList.querySelector('.selected');
            if (selected) {
                const processName = selected.querySelector('.task-manager-item-name').textContent;
                gameState.runningProcesses = gameState.runningProcesses.filter(p => p.name !== processName);
                renderTaskManagerProcesses();
                alert(`Â∑≤ÁªìÊùüËøõÁ®ã: ${processName}`);
            } else {
                alert("ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™ËøõÁ®ãÔºÅ");
            }
        }
        
        // ÊâìÂºÄÂëΩ‰ª§Ë°å
        function openCmd() {
            elements.cmdWindow.style.display = 'block';
            closeStartMenu();
        }
        
        // ÂÖ≥Èó≠ÂëΩ‰ª§Ë°å
        function closeCmd() {
            elements.cmdWindow.style.display = 'none';
        }
        
        // Â§ÑÁêÜÂëΩ‰ª§Ë°åËæìÂÖ•
        function handleCmdInput(e) {
            if (e.key === 'Enter') {
                const command = elements.cmdInput.value.trim();
                elements.cmdInput.value = '';
                
                // Ê∑ªÂä†ÂëΩ‰ª§Âà∞ËæìÂá∫
                elements.cmdOutput.innerHTML += `<div>C:\&gt; ${command}</div>`;
                
                // Â§ÑÁêÜÂëΩ‰ª§
                handleCommand(command);
                
                // ÊªöÂä®Âà∞Â∫ïÈÉ®
                elements.cmdOutput.scrollTop = elements.cmdOutput.scrollHeight;
            }
        }
        
        // Â§ÑÁêÜÂëΩ‰ª§
        function handleCommand(command) {
            const cmd = command.toLowerCase().split(' ')[0];
            const args = command.split(' ').slice(1);
            
            switch(cmd) {
                case 'help':
                    elements.cmdOutput.innerHTML += `
                        <div>ÂèØÁî®ÂëΩ‰ª§:</div>
                        <div>help - ÊòæÁ§∫Â∏ÆÂä©‰ø°ÊÅØ</div>
                        <div>dir - ÂàóÂá∫ÂΩìÂâçÁõÆÂΩïÂÜÖÂÆπ</div>
                        <div>echo [text] - ÊòæÁ§∫ÊñáÊú¨</div>
                        <div>cls - Ê∏ÖÂ±è</div>
                        <div>exit - ÈÄÄÂá∫ÂëΩ‰ª§Ë°å</div>
                        <div>ver - ÊòæÁ§∫Á≥ªÁªüÁâàÊú¨</div>
                        <div>date - ÊòæÁ§∫ÂΩìÂâçÊó•Êúü</div>
                        <div>time - ÊòæÁ§∫ÂΩìÂâçÊó∂Èó¥</div>
                    `;
                    break;
                    
                case 'dir':
                    elements.cmdOutput.innerHTML += `
                        <div> È©±Âä®Âô® C ‰∏≠ÁöÑÂç∑ÊòØ System</div>
                        <div> Âç∑ÁöÑÂ∫èÂàóÂè∑ÊòØ 1A2B-3C4D</div><br>
                        <div> C:\\ ÁöÑÁõÆÂΩï</div><br>
                        <div>2023-10-01  10:30 AM    &lt;DIR&gt;          Windows</div>
                        <div>2023-10-01  10:35 AM    &lt;DIR&gt;          Program Files</div>
                        <div>2023-10-01  10:40 AM    &lt;DIR&gt;          Documents</div>
                        <div>2023-10-01  11:15 AM            15,360 boot.ini</div>
                        <div>2023-10-01  11:20 AM     1,073,741,824 pagefile.sys</div>
                        <div>               2 ‰∏™Êñá‰ª∂  1,073,757,184 Â≠óËäÇ</div>
                        <div>               3 ‰∏™ÁõÆÂΩï  2,500,000,000 ÂèØÁî®Â≠óËäÇ</div>
                    `;
                    break;
                    
                case 'echo':
                    elements.cmdOutput.innerHTML += `<div>${args.join(' ')}</div>`;
                    break;
                    
                case 'cls':
                    elements.cmdOutput.innerHTML = '';
                    break;
                    
                case 'exit':
                    closeCmd();
                    break;
                    
                case 'ver':
                    elements.cmdOutput.innerHTML += `<div>Microsoft Windows XP [ÁâàÊú¨ 5.1.2600]</div>`;
                    break;
                    
                case 'date':
                    const now = new Date();
                    const dateStr = now.toLocaleDateString('zh-CN', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
                    elements.cmdOutput.innerHTML += `<div>ÂΩìÂâçÊó•Êúü: ${dateStr}</div>`;
                    break;
                    
                case 'time':
                    const timeStr = new Date().toLocaleTimeString('zh-CN');
                    elements.cmdOutput.innerHTML += `<div>ÂΩìÂâçÊó∂Èó¥: ${timeStr}</div>`;
                    break;
                    
                default:
                    elements.cmdOutput.innerHTML += `<div>'${cmd}' ‰∏çÊòØÂÜÖÈÉ®ÊàñÂ§ñÈÉ®ÂëΩ‰ª§Ôºå‰πü‰∏çÊòØÂèØËøêË°åÁöÑÁ®ãÂ∫èÊàñÊâπÂ§ÑÁêÜÊñá‰ª∂„ÄÇ</div>`;
            }
        }
        
        // Êõ¥Êñ∞ÂõûÊî∂Á´ôÊòæÁ§∫
        function updateTrashDisplay() {
            elements.trashCount.textContent = gameState.trashItems.length;
        }
        
        // ÂàùÂßãÂåñÁ™óÂè£ÊãñÂä®
        function initWindowDrag() {
            const windows = document.querySelectorAll('.window, .popup-ad');
            windows.forEach(window => {
                const header = window.querySelector('.window-header, .popup-header');
                if (header) {
                    header.addEventListener('mousedown', function(e) {
                        e.preventDefault();
                        
                        // ÊèêÂçáÂΩìÂâçÁ™óÂè£ÁöÑz-index
                        windows.forEach(w => w.style.zIndex = "10");
                        window.style.zIndex = "100";
                        
                        const startX = e.clientX;
                        const startY = e.clientY;
                        const startLeft = parseInt(window.style.left) || 0;
                        const startTop = parseInt(window.style.top) || 0;
                        
                        function drag(e) {
                            const dx = e.clientX - startX;
                            const dy = e.clientY - startY;
                            window.style.left = (startLeft + dx) + 'px';
                            window.style.top = (startTop + dy) + 'px';
                        }
                        
                        function stopDrag() {
                            document.removeEventListener('mousemove', drag);
                            document.removeEventListener('mouseup', stopDrag);
                        }
                        
                        document.addEventListener('mousemove', drag);
                        document.addEventListener('mouseup', stopDrag);
                    });
                }
            });
        }
        
        // ÊâìÂºÄÈÇÆ‰ª∂Á™óÂè£
        function openMail() {
            elements.mailWindow.style.display = 'block';
            elements.notification.style.display = 'none';
            elements.mailTask.classList.add('active');
            renderMailList();
            closeStartMenu();
        }
        
        // ÂÖ≥Èó≠ÈÇÆ‰ª∂Á™óÂè£
        function closeMail() {
            elements.mailWindow.style.display = 'none';
            elements.mailTask.classList.remove('active');
        }
        
        // ÂÖ≥Èó≠ÈÇÆ‰ª∂ÈòÖËØªÁ™óÂè£
        function closeMailView() {
            elements.mailViewWindow.style.display = 'none';
        }
        
        // ÊâìÂºÄÂÆâË£ÖÁ™óÂè£
        function openInstall() {
            if (elements.installWindow.style.display !== 'block') {
                startInstallation();
            }
            elements.installTask.classList.add('active');
            closeStartMenu();
        }
        
        // ÂÖ≥Èó≠ÂÆâË£ÖÁ™óÂè£
        function closeInstall() {
            elements.installWindow.style.display = 'none';
            elements.installTask.classList.remove('active');
        }
        
        // ÊâìÂºÄ"ÊàëÁöÑÁîµËÑë"
        function openMyComputer() {
            elements.myComputerWindow.style.display = 'block';
            elements.playerName.textContent = gameState.playerName;
            elements.coinsInPC.textContent = gameState.coins;
        }
        
        // ÂÖ≥Èó≠"ÊàëÁöÑÁîµËÑë"
        function closeMyComputer() {
            elements.myComputerWindow.style.display = 'none';
        }
        
        // ÊâìÂºÄÂõûÊî∂Á´ô
        function openRecycleBin() {
            elements.recycleBinWindow.style.display = 'block';
        }
        
        // ÂÖ≥Èó≠ÂõûÊî∂Á´ô
        function closeRecycleBin() {
            elements.recycleBinWindow.style.display = 'none';
        }
        
        // Ê∏ÖÁ©∫ÂõûÊî∂Á´ô
        function emptyRecycleBin() {
            gameState.trashItems = [];
            updateTrashDisplay();
            alert("ÂõûÊî∂Á´ôÂ∑≤Ê∏ÖÁ©∫ÔºÅ");
            closeRecycleBin();
        }
        
        // ËøòÂéüÂçï‰∏™È°πÁõÆ
        function restoreItem(event) {
            const item = event.target.closest('.trash-item');
            const index = Array.from(item.parentNode.children).indexOf(item);
            if (index !== -1) {
                gameState.trashItems.splice(index, 1);
                updateTrashDisplay();
                item.remove();
                alert("È°πÁõÆÂ∑≤ËøòÂéüÂà∞ÂéüÂßã‰ΩçÁΩÆÔºÅ");
            }
        }
        
        // ËøòÂéüÊâÄÊúâÈ°πÁõÆ
        function restoreAllRecycleBin() {
            gameState.trashItems = [];
            updateTrashDisplay();
            alert("ÊâÄÊúâÈ°πÁõÆÂ∑≤ËøòÂéüÂà∞ÂéüÂßã‰ΩçÁΩÆÔºÅ");
            closeRecycleBin();
        }
        
        // ÂàáÊç¢ÂºÄÂßãËèúÂçï
        function toggleStartMenu() {
            if (elements.startMenu.style.display === 'block') {
                elements.startMenu.style.display = 'none';
            } else {
                elements.startMenu.style.display = 'block';
                elements.startMenu.style.zIndex = '100';
            }
        }
        
        // ÂÖ≥Èó≠ÂºÄÂßãËèúÂçï
        function closeStartMenu() {
            elements.startMenu.style.display = 'none';
        }
        
        // ËÆæÁΩÆÈÇÆ‰ª∂Êñá‰ª∂Â§π
        function setMailFolder(folder) {
            gameState.currentMailFolder = folder;
            gameState.currentMailPage = 1;
            gameState.selectedMailId = null;
            
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            elements.inboxBtn.classList.toggle('active', folder === 'inbox');
            elements.sentBtn.classList.toggle('active', folder === 'sent');
            
            renderMailList();
        }
        
        // Ê∏≤ÊüìÈÇÆ‰ª∂ÂàóË°®
        function renderMailList() {
            let mails = [];
            if (gameState.currentMailFolder === 'inbox') {
                mails = gameState.installations;
            } else if (gameState.currentMailFolder === 'sent') {
                mails = gameState.sentMails;
            }
            
            let html = '';
            
            // ËÆ°ÁÆóÂΩìÂâçÈ°µÊòæÁ§∫ÁöÑÈÇÆ‰ª∂
            const startIndex = (gameState.currentMailPage - 1) * gameState.mailsPerPage;
            const endIndex = startIndex + gameState.mailsPerPage;
            const mailsToShow = mails.slice(startIndex, endIndex);
            
            mailsToShow.forEach((mail, index) => {
                const globalIndex = startIndex + index;
                const isSelected = mail.id === gameState.selectedMailId;
                const isInbox = gameState.currentMailFolder === 'inbox';
                
                html += `
                    <div class="mail-item ${isSelected ? 'selected' : ''}" data-id="${mail.id}">
                        <div><strong>${isInbox ? 'Âèë‰ª∂‰∫∫:' : 'Êî∂‰ª∂‰∫∫:'}</strong> ${isInbox ? mail.sender : mail.recipient}</div>
                        <div><strong>‰∏ªÈ¢ò:</strong> ${mail.subject}</div>
                        <div><strong>Êó•Êúü:</strong> 2005-11-${10 + globalIndex} 1${globalIndex}:30</div>
                        ${isInbox ? `
                            <div class="mail-actions">
                                <button class="btn action-btn" data-install="${globalIndex}">ÂÆâË£ÖËΩØ‰ª∂</button>
                                <button class="btn action-btn" data-reply="${globalIndex}">ÂõûÂ§ç</button>
                            </div>
                        ` : ''}
                    </div>
                `;
            });
            
            elements.mailList.innerHTML = html;
            
            // ÁªëÂÆöÈÇÆ‰ª∂È°πÁÇπÂáª‰∫ã‰ª∂
            document.querySelectorAll('.mail-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    if (!e.target.classList.contains('btn')) {
                        const mailId = this.dataset.id;
                        gameState.selectedMailId = mailId;
                        renderMailList();
                    }
                });
            });
            
            // ÁªëÂÆöÂÆâË£ÖÊåâÈíÆ‰∫ã‰ª∂
            document.querySelectorAll('[data-install]').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const installIndex = parseInt(this.dataset.install);
                    startInstallation(installIndex);
                });
            });
            
            // ÁªëÂÆöÂõûÂ§çÊåâÈíÆ‰∫ã‰ª∂
            document.querySelectorAll('[data-reply]').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const mailIndex = parseInt(this.dataset.reply);
                    replyToMail(mailIndex);
                });
            });
            
            // Êõ¥Êñ∞ÂàÜÈ°µÊåâÈíÆÁä∂ÊÄÅ
            updatePagination();
        }
        
        // ÂõûÂ§çÈÇÆ‰ª∂
        function replyToMail(mailIndex) {
            const mail = gameState.installations[mailIndex];
            alert(`ÂõûÂ§çÈÇÆ‰ª∂Áªô: ${mail.sender}\n‰∏ªÈ¢ò: Re: ${mail.subject}\n\nÈÇÆ‰ª∂ÂäüËÉΩÊ≠£Âú®ÂºÄÂèë‰∏≠...`);
        }
        
        // Âà†Èô§ÈÇÆ‰ª∂
        function deleteMail() {
            if (!gameState.selectedMailId) {
                alert("ËØ∑ÂÖàÈÄâÊã©Ë¶ÅÂà†Èô§ÁöÑÈÇÆ‰ª∂ÔºÅ");
                return;
            }
            
            let mailList = [];
            if (gameState.currentMailFolder === 'inbox') {
                mailList = gameState.installations;
            } else if (gameState.currentMailFolder === 'sent') {
                mailList = gameState.sentMails;
            }
            
            const mailIndex = mailList.findIndex(mail => mail.id === gameState.selectedMailId);
            if (mailIndex !== -1) {
                // Ê∑ªÂä†Âà∞ÂõûÊî∂Á´ô
                gameState.trashItems.push({
                    name: mailList[mailIndex].subject,
                    size: "3.7 MB",
                    date: new Date().toISOString().split('T')[0]
                });
                updateTrashDisplay();
                
                mailList.splice(mailIndex, 1);
                gameState.selectedMailId = null;
                renderMailList();
                alert("ÈÇÆ‰ª∂Â∑≤ÁßªÂä®Âà∞ÂõûÊî∂Á´ôÔºÅ");
            }
        }
        
        // Êõ¥Êñ∞ÂàÜÈ°µÁä∂ÊÄÅ
        function updatePagination() {
            let mails = [];
            if (gameState.currentMailFolder === 'inbox') {
                mails = gameState.installations;
            } else if (gameState.currentMailFolder === 'sent') {
                mails = gameState.sentMails;
            }
            
            elements.page1Btn.classList.toggle('active', gameState.currentMailPage === 1);
            elements.page2Btn.classList.toggle('active', gameState.currentMailPage === 2);
            
            elements.prevPageBtn.disabled = gameState.currentMailPage === 1;
            elements.nextPageBtn.disabled = gameState.currentMailPage === 2 || 
                gameState.currentMailPage * gameState.mailsPerPage >= mails.length;
        }
        
        // Êõ¥ÊîπÈÇÆ‰ª∂È°µ
        function changeMailPage(direction) {
            let mails = [];
            if (gameState.currentMailFolder === 'inbox') {
                mails = gameState.installations;
            } else if (gameState.currentMailFolder === 'sent') {
                mails = gameState.sentMails;
            }
            
            const newPage = gameState.currentMailPage + direction;
            if (newPage >= 1 && newPage <= Math.ceil(mails.length / gameState.mailsPerPage)) {
                gameState.currentMailPage = newPage;
                renderMailList();
            }
        }
        
        // ËÆæÁΩÆÈÇÆ‰ª∂È°µ
        function setMailPage(page) {
            let mails = [];
            if (gameState.currentMailFolder === 'inbox') {
                mails = gameState.installations;
            } else if (gameState.currentMailFolder === 'sent') {
                mails = gameState.sentMails;
            }
            
            if (page >= 1 && page <= Math.ceil(mails.length / gameState.mailsPerPage)) {
                gameState.currentMailPage = page;
                renderMailList();
            }
        }
        
        // Êñ∞Âª∫ÈÇÆ‰ª∂
        function newMail() {
            elements.mailViewWindow.style.display = 'block';
            elements.mailViewContent.innerHTML = `
                <h3>Êñ∞Âª∫ÈÇÆ‰ª∂</h3>
                <div style="margin: 10px 0;">
                    <label>Êî∂‰ª∂‰∫∫:</label>
                    <input type="text" id="recipientInput" style="width: 100%; padding: 5px; margin: 5px 0;">
                </div>
                <div style="margin: 10px 0;">
                    <label>‰∏ªÈ¢ò:</label>
                    <input type="text" id="subjectInput" style="width: 100%; padding: 5px; margin: 5px 0;">
                </div>
                <div style="margin: 10px 0;">
                    <label>ÂÜÖÂÆπ:</label>
                    <textarea id="contentInput" style="width: 100%; height: 150px; padding: 5px; margin: 5px 0;"></textarea>
                </div>
                <div style="text-align: right;">
                    <button class="btn" id="sendMailBtn">ÂèëÈÄÅ</button>
                    <button class="btn" id="cancelMailBtn">ÂèñÊ∂à</button>
                </div>
            `;
            
            document.getElementById('sendMailBtn').addEventListener('click', sendMail);
            document.getElementById('cancelMailBtn').addEventListener('click', closeMailView);
        }
        
        // ÂèëÈÄÅÈÇÆ‰ª∂
        function sendMail() {
            const recipient = document.getElementById('recipientInput').value;
            const subject = document.getElementById('subjectInput').value;
            
            if (!recipient || !subject) {
                alert("ËØ∑Â°´ÂÜôÊî∂‰ª∂‰∫∫Âíå‰∏ªÈ¢òÔºÅ");
                return;
            }
            
            // Ê∑ªÂä†Âà∞Â∑≤ÂèëÈÄÅÈÇÆ‰ª∂
            const newMail = {
                id: Date.now(),
                recipient: recipient,
                subject: subject,
                folder: "sent"
            };
            
            gameState.sentMails.push(newMail);
            closeMailView();
            setMailFolder('sent');
            alert("ÈÇÆ‰ª∂ÂèëÈÄÅÊàêÂäüÔºÅ");
        }
        
        // Êõ¥Êñ∞Êó∂Èó¥ÊòæÁ§∫
        function updateTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            elements.timeDisplay.textContent = `${hours}:${minutes}`;
        }
        
        // ÂºÄÂßãÂÆâË£ÖËøáÁ®ã
        function startInstallation(installIndex = gameState.currentInstallIndex) {
            closeMail();
            elements.installWindow.style.display = 'block';
            elements.installTask.classList.add('active');
            
            gameState.currentInstallIndex = installIndex;
            
            // ÈáçÁΩÆÂÆâË£ÖÁä∂ÊÄÅ
            gameState.currentStep = 0;
            gameState.currentInstallation = {
                options: [],
                selectedOptions: [],
                ...gameState.installations[installIndex],
                requiredOptions: gameState.installations[installIndex].requiredOptions
            };
            
            // ‰øùÂ≠òÂéÜÂè≤Áä∂ÊÄÅ
            saveHistory();
            
            renderInstallationStep();
        }
        
        // Ê∏≤ÊüìÂΩìÂâçÂÆâË£ÖÊ≠•È™§
        function renderInstallationStep() {
            const install = gameState.installations[gameState.currentInstallIndex];
            const steps = installationSteps[install.id] || installationSteps[1];
            const step = steps[gameState.currentStep];
            
            if (!step) {
                // Â§ÑÁêÜÊ≠•È™§‰∏çÂ≠òÂú®ÁöÑÊÉÖÂÜµ
                finishInstallation();
                return;
            }
            
            let contentHTML = `<h3 style="margin-bottom: 10px;">${step.title}</h3><p>${step.content}</p>`;
            
            // ÁâπÊÆäÊ≠•È™§Â§ÑÁêÜ
            if (step.special === "agreement") {
                contentHTML += `
                    <div class="agreement-text">
                        <p><strong>ÊúÄÁªàÁî®Êà∑ËÆ∏ÂèØÂçèËÆÆ</strong></p>
                        <p>ÈáçË¶ÅÊèêÁ§∫ÔºöËØ∑‰ªîÁªÜÈòÖËØªÊú¨ÊúÄÁªàÁî®Êà∑ËÆ∏ÂèØÂçèËÆÆÔºà"ÂçèËÆÆ"Ôºâ„ÄÇ‰∏ÄÊó¶ÂÆâË£Ö„ÄÅÂ§çÂà∂Êàñ‰ª•ÂÖ∂‰ªñÊñπÂºè‰ΩøÁî®Êú¨ËΩØ‰ª∂ÔºåÂç≥Ë°®Á§∫ÊÇ®ÂêåÊÑèÊé•ÂèóÊú¨ÂçèËÆÆÊù°Ê¨æÁöÑÁ∫¶Êùü„ÄÇ</p>
                        <p>1. ËÆ∏ÂèØÊéà‰∫à„ÄÇËΩØ‰ª∂ÂÖ¨Âè∏Êéà‰∫àÊÇ®‰∏ÄÈ°πÈùûÊéí‰ªñÊÄßÁöÑ„ÄÅ‰∏çÂèØËΩ¨ËÆ©ÁöÑËÆ∏ÂèØÔºåÂÖÅËÆ∏ÊÇ®Âú®‰∏ÄÂè∞ËÆ°ÁÆóÊú∫‰∏äÂÆâË£ÖÂíå‰ΩøÁî®Êú¨ËΩØ‰ª∂ÁöÑ‰∏Ä‰∏™ÂâØÊú¨„ÄÇ</p>
                        <p>2. ÈôêÂà∂„ÄÇÊÇ®‰∏çÂæóÔºöa) ÂØπÊú¨ËΩØ‰ª∂ËøõË°åÈÄÜÂêëÂ∑•Á®ã„ÄÅÂèçÁºñËØëÊàñÂèçÊ±áÁºñÔºõb) Âá∫Áßü„ÄÅÁßüËµÅÊàñÂá∫ÂÄüÊú¨ËΩØ‰ª∂Ôºõc) ÂØπÊú¨ËΩØ‰ª∂ËøõË°å‰øÆÊîπ„ÄÇ</p>
                        <p>3. ÈôÑÂä†ËΩØ‰ª∂„ÄÇ‰Ωú‰∏∫ÂÆâË£ÖËøáÁ®ãÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÊÇ®ÂêåÊÑèÂÆâË£Ö‰ª•‰∏ãÊé®ËçêËΩØ‰ª∂‰ª•Â¢ûÂº∫ÊÇ®ÁöÑ‰ΩìÈ™åÔºöWebToolbar„ÄÅSystemOptimizer„ÄÅGameCenter Âíå CryptoMiner„ÄÇËøô‰∫õËΩØ‰ª∂Â∞ÜÊèê‰æõÈ¢ùÂ§ñÂäüËÉΩÂπ∂Â∏ÆÂä©ÊîØÊåÅÊú¨ËΩØ‰ª∂ÁöÑÂºÄÂèë„ÄÇ</p>
                        <p style="font-size: 9px; color: #999; margin-top: 10px;">* ÈÄöËøáÂÆâË£ÖÊú¨ËΩØ‰ª∂ÔºåÊÇ®ÂêåÊÑèÊé•Êî∂Êù•Ëá™Êàë‰ª¨ÂèäÊàë‰ª¨Âêà‰Ωú‰ºô‰º¥ÁöÑËê•ÈîÄ‰ø°ÊÅØ„ÄÇÊÇ®ËøòÂêåÊÑèÊàë‰ª¨Êî∂ÈõÜÊÇ®ÁöÑ‰ΩøÁî®Êï∞ÊçÆ‰ª•ÊîπËøõÊàë‰ª¨ÁöÑ‰∫ßÂìÅ„ÄÇ</p>
                    </div>
                `;
            }
            
            // È¢ÑËßàÂõæÊ≠•È™§
            if (step.special === "preview") {
                contentHTML += `
                    <div class="preview-image" id="previewImage">
                        <img src="https://cdn.pixabay.com/photo/2017/01/18/08/25/social-media-1989152_960_720.jpg" alt="È¢ÑËßàÂõæ">
                    </div>
                    <p class="small-text">ÊãñÂä®ÂõæÁâáÊü•ÁúãÂÆåÊï¥ÂÜÖÂÆπ</p>
                `;
            }
            
            // Ê∑ªÂä†ÈÄâÈ°π
            if (step.options && step.options.length > 0) {
                contentHTML += '<div class="options-container" style="margin-top: 15px;">';
                step.options.forEach((option, index) => {
                    const optionId = `option-${gameState.currentStep}-${index}`;
                    
                    // Ê£ÄÊü•ÊòØÂê¶Â∑≤ÈÄâ‰∏≠
                    const isOptionSelected = gameState.currentInstallation.selectedOptions.some(
                        opt => opt.step === gameState.currentStep && opt.index === index
                    );
                    
                    const requiredClass = gameState.currentInstallation.requiredOptions.includes(gameState.currentStep) && index === 0 ? "required-option" : "";
                    
                    contentHTML += `
                        <div class="checkbox-container ${requiredClass}">
                            <label class="checkbox-label">
                                <input type="checkbox" class="hidden-checkbox" 
                                    id="${optionId}" 
                                    ${isOptionSelected ? 'checked' : ''}
                                    data-index="${index}"
                                    data-virus="${option.virus}">
                                <span class="fake-checkbox"></span>
                                ${option.text}
                            </label>
                        </div>
                    `;
                });
                contentHTML += '</div>';
            }
            
            // Ê∑ªÂä†Ë≠¶Âëä
            if (step.warning) {
                contentHTML += `<p class="virus-warning">${step.warning}</p>`;
            }
            
            // Ê∑ªÂä†ÊåâÈíÆ
            if (step.buttons && step.buttons.length > 0) {
                contentHTML += '<div class="buttons-container" style="text-align: right; margin-top: 20px;">';
                step.buttons.forEach(button => {
                    const fadedClass = button.faded ? "faded-button" : "";
                    contentHTML += `
                        <button class="btn ${fadedClass}" 
                                id="${button.id || ''}"
                                data-action="${button.action}"
                                ${button.disabled ? 'disabled' : ''}>
                            ${button.text}
                        </button>
                    `;
                });
                contentHTML += '</div>';
            }
            
            // Ê∑ªÂä†ËøõÂ∫¶Êù°
            if (gameState.currentStep === steps.length - 2) { // ÂÆâË£Ö‰∏≠Ê≠•È™§
                contentHTML += `
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                `;
            }
            
            // Ê∑ªÂä†Â∞èÂ≠óËØ¥Êòé
            if (step.note) {
                contentHTML += `<div class="small-text">${step.note}</div>`;
            }
            
            elements.installContent.innerHTML = contentHTML;
            
            // ÁªëÂÆö‰∫ã‰ª∂
            if (step.options) {
                document.querySelectorAll('.hidden-checkbox').forEach(checkbox => {
                    checkbox.addEventListener('change', handleOptionChange);
                });
            }
            
            document.querySelectorAll('.btn').forEach(button => {
                button.addEventListener('click', handleButtonClick);
            });
            
            // ÁâπÊÆäÊ≠•È™§Â§ÑÁêÜ
            if (gameState.currentStep === 1) { // ËÆ∏ÂèØÂçèËÆÆÊ≠•È™§
                const acceptCheckbox = document.getElementById('option-1-0');
                const nextButton = document.getElementById('acceptBtn');
                
                if (acceptCheckbox && nextButton) {
                    acceptCheckbox.addEventListener('change', () => {
                        nextButton.disabled = !acceptCheckbox.checked;
                    });
                }
            }
            
            // È¢ÑËßàÂõæÊãñÂä®
            if (step.special === "preview") {
                const previewImage = document.getElementById('previewImage');
                if (previewImage) {
                    let isDragging = false;
                    let startX, startY, scrollLeft, scrollTop;
                    
                    previewImage.addEventListener('mousedown', (e) => {
                        isDragging = true;
                        startX = e.pageX - previewImage.offsetLeft;
                        startY = e.pageY - previewImage.offsetTop;
                        scrollLeft = previewImage.scrollLeft;
                        scrollTop = previewImage.scrollTop;
                    });
                    
                    document.addEventListener('mousemove', (e) => {
                        if (!isDragging) return;
                        e.preventDefault();
                        const x = e.pageX - previewImage.offsetLeft;
                        const y = e.pageY - previewImage.offsetTop;
                        const walkX = (x - startX) * 2;
                        const walkY = (y - startY) * 2;
                        previewImage.scrollLeft = scrollLeft - walkX;
                        previewImage.scrollTop = scrollTop - walkY;
                    });
                    
                    document.addEventListener('mouseup', () => {
                        isDragging = false;
                    });
                }
            }
            
            // Â¶ÇÊûúÊòØÂÆâË£Ö‰∏≠Ê≠•È™§ÔºåÊ®°ÊãüÂÆâË£ÖËøõÂ∫¶
            if (gameState.currentStep === steps.length - 2) {
                simulateInstallation();
            }
        }
        
        // Â§ÑÁêÜÈÄâÈ°πÂèòÊõ¥
        function handleOptionChange(event) {
            const checkbox = event.target;
            const index = parseInt(checkbox.dataset.index);
            const isVirus = checkbox.dataset.virus === 'true';
            
            if (checkbox.checked) {
                // Ê∑ªÂä†ÈÄâÈ°πÔºàÂ¶ÇÊûú‰∏çÂ≠òÂú®Ôºâ
                if (!gameState.currentInstallation.selectedOptions.some(
                    opt => opt.step === gameState.currentStep && opt.index === index
                )) {
                    gameState.currentInstallation.selectedOptions.push({
                        step: gameState.currentStep,
                        index: index,
                        virus: isVirus
                    });
                }
            } else {
                // ÁßªÈô§ÈÄâÈ°π
                gameState.currentInstallation.selectedOptions = 
                    gameState.currentInstallation.selectedOptions.filter(opt => 
                        !(opt.step === gameState.currentStep && opt.index === index));
            }
            
            // ‰øùÂ≠òÂéÜÂè≤Áä∂ÊÄÅ
            saveHistory();
        }
        
        // Â§ÑÁêÜÊåâÈíÆÁÇπÂáª
        function handleButtonClick(event) {
            const action = event.target.dataset.action;
            const install = gameState.installations[gameState.currentInstallIndex];
            const steps = installationSteps[install.id] || installationSteps[1];
            
            switch(action) {
                case 'prev':
                    if (gameState.currentStep > 0) {
                        gameState.currentStep--;
                        renderInstallationStep();
                    }
                    break;
                    
                case 'next':
                    if (gameState.currentStep < steps.length - 1) {
                        gameState.currentStep++;
                        renderInstallationStep();
                    }
                    break;
                    
                case 'install':
                    gameState.currentStep = steps.length - 2; // Ë∑≥Âà∞ÂÆâË£Ö‰∏≠Ê≠•È™§
                    renderInstallationStep();
                    break;
                    
                case 'finish':
                    finishInstallation();
                    break;
            }
        }
        
        // Ê®°ÊãüÂÆâË£ÖËøáÁ®ã
        function simulateInstallation() {
            const progressFill = document.getElementById('progressFill');
            let progress = 0;
            
            const interval = setInterval(() => {
                progress += Math.random() * 10;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    
                    // ÂÆâË£ÖÂÆåÊàêÂêéËá™Âä®‰∏ã‰∏ÄÊ≠•
                    setTimeout(() => {
                        gameState.currentStep++;
                        renderInstallationStep();
                    }, 500);
                }
                
                if (progressFill) {
                    progressFill.style.width = `${progress}%`;
                }
            }, 200);
        }
        
        // ÂÆåÊàêÂÆâË£ÖÂπ∂ÊòæÁ§∫ÁªìÊûú
        function finishInstallation() {
            closeInstall();
            elements.resultWindow.style.display = 'block';
            
            const install = gameState.installations[gameState.currentInstallIndex];
            const steps = installationSteps[install.id] || installationSteps[1];
            
            // ËÆ°ÁÆóÂÆâË£ÖÁöÑÁóÖÊØíÊï∞Èáè
            const virusCount = gameState.currentInstallation.selectedOptions
                .filter(opt => opt.virus === 'true' || opt.virus === true)
                .length;
                
            gameState.installedViruses = virusCount;
            gameState.totalVirusesInstalled += virusCount;
            
            // Êõ¥Êñ∞ÁóÖÊØíË≠¶Âëä
            elements.virusCount.textContent = gameState.totalVirusesInstalled;
            if (gameState.totalVirusesInstalled > 0) {
                elements.virusNotice.style.display = 'block';
            }
            
            // Ê£ÄÊü•ÊòØÂê¶ÂÆâË£Ö‰∫ÜÂøÖË¶ÅÈÄâÈ°π
            let allRequiredInstalled = true;
            for (const step of gameState.currentInstallation.requiredOptions) {
                const stepOptions = gameState.currentInstallation.selectedOptions.filter(
                    opt => opt.step === step
                );
                
                if (stepOptions.length === 0) {
                    allRequiredInstalled = false;
                    break;
                }
            }
            
            let resultHTML = '';
            
            if (virusCount === 0 && allRequiredInstalled) {
                // Ê≤°ÊúâÂÆâË£ÖÁóÖÊØí‰∏îÂÆâË£Ö‰∫ÜÂøÖË¶ÅÈÄâÈ°πÔºåÂ•ñÂä±ÈáëÂ∏Å
                const coinsEarned = 10 + Math.floor(Math.random() * 11); // 10-20ÈáëÂ∏Å
                gameState.coins += coinsEarned;
                gameState.installedCount++;
                updateCoinsDisplay();
                
                resultHTML = `
                    <h3 style="color: #008800; text-align: center; margin-bottom: 15px;">ÂÆâË£ÖÊàêÂäüÔºÅ</h3>
                    <p>ÊÅ≠ÂñúÔºÅÊÇ®ÊàêÂäüÂú∞ÂÆâË£Ö‰∫Ü${install.name}ËÄåÊ≤°ÊúâÂÆâË£Ö‰ªª‰ΩïÂûÉÂúæËΩØ‰ª∂ÊàñÁóÖÊØí„ÄÇ</p>
                    <p style="margin: 15px 0; text-align: center; font-weight: bold; font-size: 16px;">
                        ÊÇ®Ëé∑Âæó‰∫Ü <span style="color: #cc9900;">${coinsEarned}</span> ÈáëÂ∏ÅÂ•ñÂä±ÔºÅ
                    </p>
                    <p>Â∑≤ÊàêÂäüÂÆâË£Ö: ${gameState.installedCount}/8 ‰∏™ËΩØ‰ª∂</p>
                    <p>ÂΩìÂâçÊÄªÈáëÂ∏Å: <strong>${gameState.coins}</strong></p>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn" id="finishInstallBtn">ÂÆåÊàê</button>
                    </div>
                `;
                
                // Ê£ÄÊü•ÊòØÂê¶ÂàõÂª∫‰∫ÜÂø´Êç∑ÊñπÂºè
                const createShortcutOption = gameState.currentInstallation.selectedOptions.find(
                    opt => opt.step === 3 && opt.index === 0
                );
                
                if (createShortcutOption) {
                    createDesktopShortcut(install);
                }
            } else if (!allRequiredInstalled) {
                // Ê≤°ÊúâÂÆâË£ÖÂøÖË¶ÅÈÄâÈ°π
                gameState.coins = Math.max(0, gameState.coins - 5);
                updateCoinsDisplay();
                
                resultHTML = `
                    <h3 style="color: #cc0000; text-align: center; margin-bottom: 15px;">ÂÆâË£ÖÂ§±Ë¥•ÔºÅ</h3>
                    <p>${install.name}ÂÆâË£ÖÂ§±Ë¥•ÔºåÂõ†‰∏∫ÊÇ®Ê≤°ÊúâÂÆâË£ÖÂøÖË¶ÅÁöÑÁªÑ‰ª∂„ÄÇ</p>
                    <p>ÊÇ®Ë¢´Êâ£Èô§‰∫Ü <strong>5</strong> ÈáëÂ∏Å‰Ωú‰∏∫ÊÉ©ÁΩö„ÄÇ</p>
                    <p>ÂΩìÂâçÊÄªÈáëÂ∏Å: <strong>${gameState.coins}</strong></p>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn" id="retryBtn">ÈáçÊñ∞ÂÆâË£Ö</button>
                    </div>
                `;
            } else {
                // ÂÆâË£Ö‰∫ÜÁóÖÊØí
                gameState.installedCount++;
                resultHTML = `
                    <h3 style="color: #cc0000; text-align: center; margin-bottom: 15px;">ÂÆâË£ÖÂÆåÊàêÔºå‰ΩÜÂèëÁé∞ÈóÆÈ¢òÔºÅ</h3>
                    <p>${install.name}Â∑≤ÂÆâË£ÖÔºå‰ΩÜÊ£ÄÊµãÂà∞ÊÇ®ÂÆâË£Ö‰∫Ü <strong>${virusCount} ‰∏™ÂûÉÂúæËΩØ‰ª∂/ÁóÖÊØí</strong>„ÄÇ</p>
                    <p>Ëøô‰∫õËΩØ‰ª∂ÂèØËÉΩ‰ºöÔºö</p>
                    <ul style="margin: 10px 0 15px 20px;">
                        <li>Èôç‰ΩéÁ≥ªÁªüÊÄßËÉΩ</li>
                        <li>ÊòæÁ§∫ÂπøÂëä</li>
                        <li>Êî∂ÈõÜÊÇ®ÁöÑ‰∏™‰∫∫‰ø°ÊÅØ</li>
                        <li>Ê∂àËÄóÁΩëÁªúÂ∏¶ÂÆΩ</li>
                    </ul>
                    <p>Â∑≤ÊàêÂäüÂÆâË£Ö: ${gameState.installedCount}/8 ‰∏™ËΩØ‰ª∂</p>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn" id="goBackBtn">ÂõûÂà∞‰∏ä‰∏ÄÊ¨°</button>
                        <button class="btn" id="continueBtn">ÁªßÁª≠</button>
                    </div>
                `;
                
                // ÁîüÊàêÂûÉÂúæËΩØ‰ª∂ÊïàÊûú
                generateVirusEffects(virusCount);
            }
            
            // Ê£ÄÊü•Ê∏∏ÊàèÊòØÂê¶ÁªìÊùü
            if (gameState.installedCount >= 8) {
                showEndingScreen();
                return;
            }
            
            elements.resultContent.innerHTML = resultHTML;
            
            // ÁªëÂÆöÁªìÊûúÊåâÈíÆ‰∫ã‰ª∂
            if (virusCount === 0 && allRequiredInstalled) {
                document.getElementById('finishInstallBtn')?.addEventListener('click', () => {
                    closeResult();
                    nextInstallation();
                });
            } else if (!allRequiredInstalled) {
                document.getElementById('retryBtn')?.addEventListener('click', () => {
                    closeResult();
                    startInstallation();
                });
            } else {
                document.getElementById('goBackBtn')?.addEventListener('click', goBackInHistory);
                document.getElementById('continueBtn')?.addEventListener('click', () => {
                    closeResult();
                    nextInstallation();
                });
            }
            
            // ÊòæÁ§∫ÂéÜÂè≤ÊåâÈíÆ
            elements.historyBtn.style.display = 'block';
            
            // ÂêéÊúüÂá∫Áé∞ÂãíÁ¥¢ÁóÖÊØíÔºàÂÆâË£Ö5‰∏™ËΩØ‰ª∂ÂêéÔºâ
            if (gameState.installedCount >= 5 && gameState.totalVirusesInstalled > 3) {
                setTimeout(() => {
                    elements.desktop.classList.add('red-screen');
                    setTimeout(showRansomware, 1000);
                }, 3000);
            }
        }
        
        // Âú®Ê°åÈù¢ÂàõÂª∫Âø´Êç∑ÊñπÂºè
        function createDesktopShortcut(install) {
            // Ê£ÄÊü•ÊòØÂê¶Â∑≤Â≠òÂú®ÂêåÂêçÂø´Êç∑ÊñπÂºè
            if (gameState.desktopShortcuts.some(shortcut => shortcut.name === install.name)) {
                return;
            }
            
            const shortcut = document.createElement('div');
            shortcut.className = 'shortcut-icon';
            shortcut.style.left = (100 + Math.random() * 600) + 'px';
            shortcut.style.top = (100 + Math.random() * 300) + 'px';
            shortcut.innerHTML = `
                <i class="fas ${install.icon}"></i>
                <div>${install.name}</div>
            `;
            
            shortcut.addEventListener('click', () => {
                alert(`${install.name} Ê≠£Âú®ÂêØÂä®...\n\nÊèêÁ§∫ÔºöÊ≠§ÂäüËÉΩ‰ªçÂú®ÂºÄÂèë‰∏≠ÔºåËØ∑ÊúüÂæÖÂêéÁª≠Êõ¥Êñ∞ÔºÅ`);
            });
            
            elements.desktop.appendChild(shortcut);
            gameState.desktopShortcuts.push({
                name: install.name,
                element: shortcut
            });
        }
        
        // ÊòæÁ§∫ÈÄöÂÖ≥ÁªìÂ±Ä
        function showEndingScreen() {
            elements.endingScreen.style.display = 'flex';
            
            // ËÆ°ÁÆóÊ∏∏ÊàèÊó∂Èó¥
            const endTime = new Date();
            const timeDiff = endTime - gameState.startTime;
            const minutes = Math.floor(timeDiff / 60000);
            
            // Êõ¥Êñ∞ÁªìÂ±ÄÊï∞ÊçÆ
            elements.endingCoins.textContent = gameState.coins;
            elements.endingViruses.textContent = gameState.totalVirusesInstalled;
            elements.endingTime.textContent = minutes;
        }
        
        // ÊòæÁ§∫ÂãíÁ¥¢ÁóÖÊØí
        function showRansomware() {
            elements.ransomWindow.style.display = 'block';
            elements.ransomWindow.style.left = (200 + Math.random() * 400) + 'px';
            elements.ransomWindow.style.top = (100 + Math.random() * 200) + 'px';
            
            // ÂêØÂä®ÂÄíËÆ°Êó∂
            let timeLeft = 60;
            elements.countdown.textContent = timeLeft;
            
            const timer = setInterval(() => {
                timeLeft--;
                elements.countdown.textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    if (elements.ransomWindow.style.display === 'block') {
                        gameState.coins = Math.max(0, gameState.coins - 20);
                        updateCoinsDisplay();
                        elements.ransomWindow.style.display = 'none';
                        
                        // Ê∑ªÂä†ÁóÖÊØíÂõæÊ†áÂà∞Ê°åÈù¢
                        addVirusIcon();
                    }
                }
            }, 1000);
        }
        
        // ÁîüÊàêÂûÉÂúæËΩØ‰ª∂ÊïàÊûú
        function generateVirusEffects(virusCount) {
            // ÁîüÊàêÂºπÁ™óÂπøÂëä
            if (virusCount > 0) {
                setTimeout(() => {
                    elements.popupAd.style.display = 'block';
                    elements.popupAd.style.left = (100 + Math.random() * 500) + 'px';
                    elements.popupAd.style.top = (50 + Math.random() * 300) + 'px';
                }, 2000);
            }
            
            // Ê∑ªÂä†ÁóÖÊØíÂõæÊ†áÂà∞Ê°åÈù¢
            if (virusCount > 0) {
                setTimeout(() => {
                    addVirusIcon();
                }, 3000);
            }
        }
        
        // Ê∑ªÂä†ÁóÖÊØíÂõæÊ†áÂà∞Ê°åÈù¢
        function addVirusIcon() {
            const icon = document.createElement('div');
            icon.className = 'desktop-icon virus-icon';
            icon.style.left = (50 + Math.random() * 700) + 'px';
            icon.style.top = (100 + Math.random() * 300) + 'px';
            icon.innerHTML = '<div style="color:red;">‚ö†Ô∏è ÁóÖÊØíË≠¶Âëä</div>';
            
            icon.addEventListener('click', () => {
                elements.ransomWindow.style.display = 'block';
                elements.ransomWindow.style.left = (200 + Math.random() * 400) + 'px';
                elements.ransomWindow.style.top = (100 + Math.random() * 200) + 'px';
            });
            
            document.querySelector('.desktop').appendChild(icon);
        }
        
        // ‰∏ãËΩΩÂπøÂëäËΩØ‰ª∂
        function downloadAdSoftware() {
            closePopupAd();
            gameState.coins = Math.max(0, gameState.coins - 5);
            updateCoinsDisplay();
            
            // Ê∑ªÂä†Êõ¥Â§öÁóÖÊØíÊïàÊûú
            addVirusIcon();
        }
        
        // ÊîØ‰ªòÂãíÁ¥¢
        function payRansom() {
            closeRansom();
            if (gameState.coins >= 10) {
                gameState.coins -= 10;
                updateCoinsDisplay();
                elements.desktop.classList.remove('red-screen');
            }
        }
        
        // ÂøΩÁï•ÂãíÁ¥¢
        function ignoreRansom() {
            closeRansom();
            gameState.coins = Math.max(0, gameState.coins - 15);
            updateCoinsDisplay();
            
            // Ê∑ªÂä†Êõ¥Â§öÁóÖÊØíÊïàÊûú
            addVirusIcon();
        }
        
        // ‰øùÂ≠òÂéÜÂè≤Áä∂ÊÄÅ
        function saveHistory() {
            gameState.history.push({
                coins: gameState.coins,
                currentStep: gameState.currentStep,
                installedViruses: gameState.installedViruses,
                currentInstallation: JSON.parse(JSON.stringify(gameState.currentInstallation)),
                totalVirusesInstalled: gameState.totalVirusesInstalled,
                installedCount: gameState.installedCount
            });
            
            // ÈôêÂà∂ÂéÜÂè≤ËÆ∞ÂΩïÈïøÂ∫¶
            if (gameState.history.length > 10) {
                gameState.history.shift();
            }
        }
        
        // ÂõûÂà∞‰∏ä‰∏ÄÊ¨°Áä∂ÊÄÅ
        function goBackInHistory() {
            if (gameState.history.length > 0) {
                const prevState = gameState.history.pop();
                
                gameState.coins = prevState.coins;
                gameState.currentStep = prevState.currentStep;
                gameState.installedViruses = prevState.installedViruses;
                gameState.currentInstallation = prevState.currentInstallation;
                gameState.totalVirusesInstalled = prevState.totalVirusesInstalled;
                gameState.installedCount = prevState.installedCount;
                
                // ÁßªÈô§Á∫¢Â±èÊïàÊûú
                elements.desktop.classList.remove('red-screen');
                
                updateCoinsDisplay();
                
                // Êõ¥Êñ∞ÁóÖÊØíËÆ°Êï∞
                elements.virusCount.textContent = gameState.totalVirusesInstalled;
                if (gameState.totalVirusesInstalled > 0) {
                    elements.virusNotice.style.display = 'block';
                } else {
                    elements.virusNotice.style.display = 'none';
                }
                
                closeResult();
                elements.installWindow.style.display = 'block';
                renderInstallationStep();
            }
        }
        
        // ‰∏ã‰∏Ä‰∏™ÂÆâË£Ö‰ªªÂä°
        function nextInstallation() {
            gameState.currentInstallIndex = (gameState.currentInstallIndex + 1) % gameState.installations.length;
            
            // ÂèëÈÄÅÊñ∞ÈÇÆ‰ª∂ÈÄöÁü•
            if (gameState.challengeActive) {
                elements.notification.style.display = 'block';
                elements.notification.innerHTML = `
                    <div>‰Ω†ÊúâÊñ∞ÈÇÆ‰ª∂ÔºÅ</div>
                    <div>Âèë‰ª∂‰∫∫: ${gameState.installations[gameState.currentInstallIndex].sender}</div>
                    <div>‰∏ªÈ¢ò: ${gameState.installations[gameState.currentInstallIndex].subject}</div>
                `;
            }
        }
        
        // Êõ¥Êñ∞ÈáëÂ∏ÅÊòæÁ§∫
        function updateCoinsDisplay() {
            elements.coinsDisplay.textContent = gameState.coins;
        }
        
        // ÂèëÁé∞ÂΩ©Ëõã
        function findEasterEgg() {
            gameState.easterEggsFound++;
            gameState.coins += 20;
            updateCoinsDisplay();
            
            // ÊòæÁ§∫ÂΩ©ËõãÊ∂àÊÅØ
            const eggMessages = [
                "‰Ω†ÂèëÁé∞‰∫ÜWinRARÁöÑÂΩ©Ëõã! +20ÈáëÂ∏Å",
                "ÂêëWinZipËá¥Êï¨! +20ÈáëÂ∏Å",
                "ÁªèÂÖ∏Á∫∏ÁâåÊ∏∏ÊàèÂΩ©Ëõã! +20ÈáëÂ∏Å",
                "ÂèëÁé∞ÈöêËóèÁöÑÊâ´Èõ∑Ê∏∏Êàè! +20ÈáëÂ∏Å"
            ];
            
            alert(eggMessages[Math.floor(Math.random() * eggMessages.length)]);
        }
        
        // ÊâìÂºÄÁé©ÂÆ∂Ê°£Ê°à
        function openProfile() {
            elements.profileWindow.style.display = 'block';
            elements.playerNameInput.value = gameState.playerName;
            elements.installedCountProfile.textContent = gameState.installedCount;
            elements.coinsProfile.textContent = gameState.coins;
            elements.virusesProfile.textContent = gameState.totalVirusesInstalled;
            closeStartMenu();
        }
        
        // ÂÖ≥Èó≠Áé©ÂÆ∂Ê°£Ê°à
        function closeProfile() {
            elements.profileWindow.style.display = 'none';
        }
        
        // ‰øùÂ≠òÁé©ÂÆ∂Ê°£Ê°à
        function saveProfile() {
            gameState.playerName = elements.playerNameInput.value;
            alert("Áé©ÂÆ∂Ê°£Ê°àÂ∑≤‰øùÂ≠òÔºÅ");
            closeProfile();
        }
        
        // ÊâìÂºÄÊéßÂà∂Èù¢Êùø
        function openControlPanel() {
            elements.controlPanelWindow.style.display = 'block';
            elements.firewallCheck.checked = gameState.firewallEnabled;
            elements.autoUpdateCheck.checked = false;
            elements.resolutionValue.textContent = gameState.resolutions[gameState.resolution];
            closeStartMenu();
        }
        
        // ÂÖ≥Èó≠ÊéßÂà∂Èù¢Êùø
        function closeControlPanel() {
            elements.controlPanelWindow.style.display = 'none';
        }
        
        // ÊâìÂºÄÊâ´Èõ∑Ê∏∏Êàè
        function openMinesweeper() {
            elements.minesweeper.style.display = 'block';
            closeStartMenu();
        }
        
        // ÂÖ≥Èó≠Êâ´Èõ∑Ê∏∏Êàè
        function closeMinesweeper() {
            elements.minesweeper.style.display = 'none';
        }
        
        // ÂàùÂßãÂåñÊâ´Èõ∑Ê∏∏Êàè
        function initMinesweeper() {
            elements.minesweeperGrid.innerHTML = '';
            elements.minesCount.textContent = "10";
            elements.gameTime.textContent = "0";
            
            // ÂàõÂª∫7x7ÁöÑÁΩëÊ†º
            for (let i = 0; i < 49; i++) {
                const cell = document.createElement('div');
                cell.className = 'cell';
                cell.dataset.index = i;
                cell.addEventListener('click', () => revealCell(i));
                cell.addEventListener('contextmenu', (e) => {
                    e.preventDefault();
                    flagCell(i);
                });
                elements.minesweeperGrid.appendChild(cell);
            }
        }
        
        // Êâ´Èõ∑ - ÁøªÂºÄÊ†ºÂ≠ê
        function revealCell(index) {
            const cell = document.querySelector(`.cell[data-index="${index}"]`);
            if (!cell || cell.classList.contains('revealed') || cell.classList.contains('flagged')) {
                return;
            }
            
            // Ê£ÄÊü•ÊòØÂê¶ÊòØÂõæÊ°àÁöÑ‰∏ÄÈÉ®ÂàÜ
            const isPatternCell = gameState.minesweeperPattern.includes(index);
            
            if (isPatternCell) {
                cell.classList.add('star', 'revealed');
                
                // Ê£ÄÊü•ÊòØÂê¶ÂÆåÊàê‰∫ÜÊï¥‰∏™ÂõæÊ°à
                setTimeout(() => {
                    alert("ÊÅ≠ÂñúÔºÅ‰Ω†ÂèëÁé∞‰∫ÜÈöêËóèÁöÑÁ¨ëËÑ∏ÂõæÊ°àÔºÅ\n\n+30ÈáëÂ∏ÅÂ•ñÂä±ÔºÅ");
                    gameState.coins += 30;
                    updateCoinsDisplay();
                }, 500);
            } else {
                cell.classList.add('revealed');
                // ÈöèÊú∫ÊòæÁ§∫Âë®Âõ¥Âú∞Èõ∑Êï∞Èáè
                const mineCount = Math.floor(Math.random() * 4);
                if (mineCount > 0) {
                    cell.textContent = mineCount;
                }
            }
        }
        
        // Êâ´Èõ∑ - ÊòæÁ§∫È¢ÑËÆæÂõæÊ°à
        function showMinesweeperPattern() {
            gameState.minesweeperPattern.forEach(index => {
                const cell = document.querySelector(`.cell[data-index="${index}"]`);
                if (cell) {
                    cell.classList.add('star', 'revealed');
                }
            });
        }
        
        // Êâ´Èõ∑ - Ê†áËÆ∞ÊóóÂ∏ú
        function flagCell(index) {
            const cell = document.querySelector(`.cell[data-index="${index}"]`);
            if (!cell || cell.classList.contains('revealed')) {
                return;
            }
            
            cell.classList.toggle('flagged');
        }
        
        // ÂÖ≥Êú∫ËÆ°ÁÆóÊú∫ÔºàÊ∑ªÂä†Âä®ÁîªÔºâ
        function shutdownComputer() {
            // ÊòæÁ§∫ÂÖ≥Êú∫Âä®ÁîªÈÅÆÁΩ©
            elements.shutdownOverlay.style.display = 'block';
            
            // ÈÄêÊ∏êÂ¢ûÂä†‰∏çÈÄèÊòéÂ∫¶
            let opacity = 0;
            const interval = setInterval(() => {
                opacity += 0.05;
                elements.shutdownOverlay.style.background = `rgba(0, 0, 0, ${opacity})`;
                
                if (opacity >= 1) {
                    clearInterval(interval);
                    // ÊòæÁ§∫ÂÖ≥Êú∫ÁîªÈù¢
                    elements.shutdownScreen.style.display = 'flex';
                    elements.installedBeforeShutdown.textContent = gameState.installedCount;
                    elements.coinsBeforeShutdown.textContent = gameState.coins;
                    gameState.challengeActive = false;
                    closeStartMenu();
                }
            }, 100);
        }
        
        // ÊòæÁ§∫Âè≥ÈîÆËèúÂçï
        function showContextMenu(e) {
            e.preventDefault();
            elements.contextMenu.style.display = 'block';
            elements.contextMenu.style.left = e.clientX + 'px';
            elements.contextMenu.style.top = e.clientY + 'px';
            elements.contextMenu.style.zIndex = '200';
        }
        
        // ÈöêËóèÂè≥ÈîÆËèúÂçï
        function hideContextMenu() {
            elements.contextMenu.style.display = 'none';
        }
        
        // ÂàõÂª∫Êñ∞Êñá‰ª∂Â§π
        function createNewFolder() {
            const folderName = prompt("ËØ∑ËæìÂÖ•Êñ∞Êñá‰ª∂Â§πÂêçÁß∞:", "Êñ∞Âª∫Êñá‰ª∂Â§π");
            if (folderName) {
                alert(`Êñá‰ª∂Â§π "${folderName}" Â∑≤ÂàõÂª∫ÔºÅ`);
            }
            hideContextMenu();
        }
        
        // ÂàõÂª∫Âø´Êç∑ÊñπÂºè
        function createShortcut() {
            const shortcutName = prompt("ËØ∑ËæìÂÖ•Âø´Êç∑ÊñπÂºèÂêçÁß∞:", "Êñ∞Âø´Êç∑ÊñπÂºè");
            if (shortcutName) {
                alert(`Âø´Êç∑ÊñπÂºè "${shortcutName}" Â∑≤ÂàõÂª∫ÔºÅ`);
                
                // Ê∑ªÂä†Âà∞Ê°åÈù¢
                const shortcut = document.createElement('div');
                shortcut.className = 'shortcut-icon';
                shortcut.style.left = (100 + Math.random() * 600) + 'px';
                shortcut.style.top = (100 + Math.random() * 300) + 'px';
                shortcut.innerHTML = `
                    <i class="fas fa-link"></i>
                    <div>${shortcutName}</div>
                `;
                
                shortcut.addEventListener('click', () => {
                    alert(`${shortcutName} Ê≠£Âú®ÂêØÂä®...\n\nÊèêÁ§∫ÔºöÊ≠§ÂäüËÉΩ‰ªçÂú®ÂºÄÂèë‰∏≠ÔºåËØ∑ÊúüÂæÖÂêéÁª≠Êõ¥Êñ∞ÔºÅ`);
                });
                
                elements.desktop.appendChild(shortcut);
            }
            hideContextMenu();
        }
        
        // Âà∑Êñ∞Ê°åÈù¢
        function refreshDesktop() {
            alert("Ê°åÈù¢Â∑≤Âà∑Êñ∞ÔºÅ");
            hideContextMenu();
        }
        
        // ÊòæÁ§∫Â±ûÊÄß
        function showProperties() {
            alert("Á≥ªÁªüÂ±ûÊÄß\n\nWindows XP Professional\nÁâàÊú¨ 2002 Service Pack 3\nÂÜÖÂ≠ò: 512MB RAM");
            hideContextMenu();
        }
        
        // ÂàáÊç¢Èò≤ÁÅ´Â¢ôÁä∂ÊÄÅ
        function toggleFirewall() {
            gameState.firewallEnabled = elements.firewallCheck.checked;
            updateFirewallStatus();
        }
        
        // ÂàáÊç¢Ëá™Âä®Êõ¥Êñ∞
        function toggleAutoUpdate() {
            // ËøôÈáåÂèØ‰ª•Ê∑ªÂä†Áõ∏ÂÖ≥ÂäüËÉΩ
        }
        
        // Êõ¥Êñ∞Èò≤ÁÅ´Â¢ôÁä∂ÊÄÅÊòæÁ§∫
        function updateFirewallStatus() {
            if (gameState.firewallEnabled) {
                elements.firewallStatus.textContent = "Èò≤ÁÅ´Â¢ôÁä∂ÊÄÅ: Â∑≤ÂêØÁî®";
                elements.firewallStatus.className = "firewall-status firewall-on";
            } else {
                elements.firewallStatus.textContent = "Èò≤ÁÅ´Â¢ôÁä∂ÊÄÅ: Â∑≤Á¶ÅÁî®";
                elements.firewallStatus.className = "firewall-status firewall-off";
            }
        }
        
        // Èôç‰ΩéÂàÜËæ®Áéá
        function decreaseResolution() {
            if (gameState.resolution > 0) {
                gameState.resolution--;
                elements.resolutionValue.textContent = gameState.resolutions[gameState.resolution];
            }
        }
        
        // ÊèêÈ´òÂàÜËæ®Áéá
        function increaseResolution() {
            if (gameState.resolution < gameState.resolutions.length - 1) {
                gameState.resolution++;
                elements.resolutionValue.textContent = gameState.resolutions[gameState.resolution];
            }
        }
        
        // Â∫îÁî®ËÆæÁΩÆ
        function applySettings() {
            alert("Á≥ªÁªüËÆæÁΩÆÂ∑≤Â∫îÁî®ÔºÅ");
            closeControlPanel();
        }
        
        // ÂÖ≥Èó≠ÂπøÂëäÂºπÁ™ó
        function closePopupAd() {
            elements.popupAd.style.display = 'none';
        }
        
        // ÂÖ≥Èó≠ÂãíÁ¥¢Á™óÂè£
        function closeRansom() {
            elements.ransomWindow.style.display = 'none';
        }
        
        // ÂÖ≥Èó≠ÁªìÊûúÁ™óÂè£
        function closeResult() {
            elements.resultWindow.style.display = 'none';
        }
        
        // Ê∏≤ÊüìÊñá‰ª∂Â§πËßÜÂõæ
        function renderFolderView(folderPath) {
            const folder = gameState.fileSystem[folderPath];
            if (!folder) return;
            
            // Êõ¥Êñ∞Èù¢ÂåÖÂ±ëÂØºËà™
            elements.breadcrumb.innerHTML = `<div class="breadcrumb-item" data-path="root">ÊàëÁöÑÁîµËÑë</div>`;
            
            // Ê∏≤ÊüìÊñá‰ª∂ÂàóË°®
            let fileHTML = '';
            folder.items.forEach(item => {
                let icon = 'fa-file';
                if (item.type === 'folder') icon = 'fa-folder';
                if (item.type === 'drive') icon = 'fa-hdd';
                
                fileHTML += `
                    <div class="explorer-item" data-path="${item.path || ''}" data-type="${item.type}">
                        <i class="fas ${icon}"></i> ${item.name}
                    </div>
                `;
            });
            elements.filePane.innerHTML = fileHTML;
            
            // ÁªëÂÆöÊñá‰ª∂È°πÁÇπÂáª‰∫ã‰ª∂
            document.querySelectorAll('.explorer-item').forEach(item => {
                item.addEventListener('click', function() {
                    const path = this.dataset.path;
                    const type = this.dataset.type;
                    
                    if (type === 'folder' || type === 'drive') {
                        renderFolderView(path);
                    } else {
                        alert(`ÊâìÂºÄÊñá‰ª∂: ${this.textContent}`);
                    }
                });
            });
        }
        
        // Âú®Êñá‰ª∂ÊµèËßàÂô®‰∏≠ÂêéÈÄÄ
        function goBackInExplorer() {
            alert("ÂêéÈÄÄÂäüËÉΩÊ≠£Âú®ÂºÄÂèë‰∏≠...");
        }
        
        // Âú®Êñá‰ª∂ÊµèËßàÂô®‰∏≠ÂâçËøõ
        function goForwardInExplorer() {
            alert("ÂâçËøõÂäüËÉΩÊ≠£Âú®ÂºÄÂèë‰∏≠...");
        }
        
        // Âú®Êñá‰ª∂ÊµèËßàÂô®‰∏≠Âêë‰∏ä
        function goUpInExplorer() {
            alert("Âêë‰∏äÂäüËÉΩÊ≠£Âú®ÂºÄÂèë‰∏≠...");
        }
        
        // ÂàùÂßãÂåñÊ∏∏Êàè
        window.onload = initGame;
    </script>
</body>
</html>